{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{RNiq:function(e,t,a){\"use strict\";a.r(t);var n=a(\"o0o1\"),i=a.n(n),r=a(\"HaE+\"),c=a(\"q1tI\"),s=a.n(c),o=a(\"YFqc\"),l=a.n(o),u=a(\"jC1T\"),m=a(\"57t+\"),d=a(\"TvVg\"),p=a(\"6Brv\"),v=a(\"1OyB\"),f=a(\"Ji7U\"),h=a(\"md7G\"),g=a(\"foSv\");a(\"vDqi\");function b(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(g.a)(e);if(t){var i=Object(g.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(h.a)(this,a)}}u.a;function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(g.a)(e);if(t){var i=Object(g.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(h.a)(this,a)}}u.a;var y=a(\"JHTH\"),w=a(\"8Mm2\"),_=(a(\"FxrF\"),a(\"ODXe\")),E=a(\"wd/R\"),P=a.n(E),T=a(\"I+5a\"),C=a.n(T),I=a(\"bTu8\"),O=a(\"g0Ox\"),j=a(\"Xchd\"),R=a(\"Ap4+\"),k=a(\"ZXcA\"),S=a(\"V5Fq\"),x=s.a.createElement;I.a.use([O.a,j.a,R.a,k.a]);var D=function(e){var t=e.index,a=P()(e.period.date_from,\"YYYY-MM-DD\"),n=P()(e.period.date_to,\"YYYY-MM-DD\");return x(\"div\",{key:t,className:\"swiper-slide swiper-slide-\".concat(e.hotel.id)},x(\"a\",{className:\"nav-item nav-link \".concat(t==e.activeTab?\"active\":\"\"),id:\"nav-\".concat(e.hotel.id,\"-period-\").concat(t,\"-tab\"),\"data-toggle\":\"tab\",href:\"#nav-\".concat(e.hotel.id,\"-period-\").concat(t),role:\"tab\",\"aria-controls\":\"nav-\".concat(e.hotel.id,\"-period-\").concat(t),\"aria-selected\":\"true\",onClick:function(){return e.onActivateTab(t)}},x(\"span\",null,a.format(\"DD/MM\"),x(\"br\",null),n.format(\"DD/MM\")),x(\"i\",{className:\"ico ico-arrow-curved\"})))},M=function(e){for(var t=e.index,a={},n=0,i=Object.entries(e.period.viewPeriodPrices);n<i.length;n++){var r=Object(_.a)(i[n],2),c=r[0],o=r[1];if(a[c]={},o.prices)for(var l=0,u=Object.entries(o.prices);l<u.length;l++){var m=Object(_.a)(u[l],2),d=m[0],p=m[1];a[c][d]={n1:p.n1?p.n1:null,n2:p.n2?p.n2:null,n3:p.n3?p.n3:null,n4:p.n4?p.n4:null,n5:p.n5?p.n5:null,n6:p.n6?p.n6:null,n7:p.n7?p.n7:null}}}return x(\"div\",{className:\"tab-pane fade \".concat(0==t?\"show active\":\"\"),id:\"nav-\".concat(e.hotel.id,\"-period-\").concat(t),role:\"tabpanel\",\"aria-labelledby\":\"nav-\".concat(e.hotel.id,\"-period-\").concat(t,\"-tab\")},e.period.viewPeriodPrices&&Object.entries(e.period.viewPeriodPrices).map((function(t,a){var n=Object(_.a)(t,2),i=(n[0],n[1]);return x(s.a.Fragment,{key:a},i.prices&&Object.entries(i.prices).map((function(t,n){var r=Object(_.a)(t,2),c=r[0],o=r[1];return x(s.a.Fragment,{key:n},x(\"div\",null,x(\"span\",{style:{color:\"#4fbaad\"}},i.room_type.name)),x(S.a,{index:a,room_type:i.room_type,treatment:c,prices:o,hotel:e.hotel,period:e.period,priceTableLink:!0}))})))})))},L=function(e){for(var t=e.hotel,a=s.a.useRef(null),n=[],i=1;i<=parseInt(t.stars);i++)n.push(x(\"i\",{key:i,className:\"ico ico-star\"}));var r=s.a.useState(0),c=Object(_.a)(r,2),o=c[0],u=c[1];return s.a.useEffect((function(){a.current=new I.a(\"#swiperPrices-\".concat(t.id),{grubCursor:!1,simulateTouch:!1,direction:\"horizontal\",spaceBetween:0,breakpoints:{1:{slidesPerView:1},320:{slidesPerView:4},768:{slidesPerView:2},992:{slidesPerView:3},1200:{slidesPerView:4}},navigation:{nextEl:\"#swiperPrices-\".concat(t.id,\"-button-next\"),prevEl:\"#swiperPrices-\".concat(t.id,\"-button-prev\")}})}),[]),x(\"div\",{className:\"hotel-list-item\"},x(\"a\",{href:\"\".concat(\"/strutture-ricettive\",\"/\").concat(e.hotel.slug.it),rel:\"nofollow\"},x(\"div\",{className:\"topline\"},x(\"div\",{className:\"title mr-auto\"},t.name),x(\"div\",{className:\"stars ml-auto\"},n))),x(\"a\",{href:\"\".concat(\"/strutture-ricettive\",\"/\").concat(e.hotel.slug.it),rel:\"nofollow\"},x(\"figure\",{className:\"img-bgas\"},x(\"img\",{src:t.media&&t.media.gallery&&t.media.gallery[0]?t.media.gallery[0].url:\"default\",alt:t.media&&t.media.gallery&&t.media.gallery[0]&&t.media.gallery[0].name}))),x(\"div\",{className:\"prices-box\"},t.rateplanPeriods&&t.rateplanPeriods.length>0&&x(s.a.Fragment,null,x(\"nav\",{style:{width:\"100% !important\"}},x(\"div\",{className:\"nav nav-tabs\",id:\"nav-tab-1\",role:\"tablist\",style:{width:\"100% !important\"}},x(\"div\",{id:\"swiperPrices-\".concat(t.id),className:\"swiper-container swiperPrices\",style:{width:\"100% !important\"}},x(\"div\",{className:\"swiper-wrapper\",style:{width:\"100% !important\"}},t.rateplanPeriods.map((function(e,a){return x(D,{key:a,index:a,period:e,hotel:t,activeTab:o,onActivateTab:function(){return function(e){u(e)}(a)}})})))),x(\"div\",{id:\"swiperPrices-\".concat(t.id,\"-button-prev\"),className:\"swiper-button-prev\"}),x(\"div\",{id:\"swiperPrices-\".concat(t.id,\"-button-next\"),className:\"swiper-button-next\"}))),x(\"div\",{className:\"tab-content\",id:\"nav-tabContent-1\"},t.rateplanPeriods.map((function(e,a){return x(M,{key:a,index:a,hotel:t,period:e})})))),!t.rateplanPeriods||t.rateplanPeriods.length<=0&&x(\"div\",{style:{height:70}}),x(\"div\",{className:\"details\"},x(\"div\",{className:\"row\"},x(\"div\",{className:\"col-4\"},x(\"div\",{className:\"description\"},x(\"span\",{className:\"bold\"},\"POSIZIONE\"),x(\"br\",null),t.details.address,x(\"br\",null),t.details.zip_code,\" - \",t.details.city,x(\"br\",null),\"\\u2014\",x(\"br\",null),x(\"div\",{dangerouslySetInnerHTML:{__html:t.description_near.it}}))),x(\"div\",{className:\"col-8\"},x(\"ul\",{className:\"hotel-service-list\"},t.incServices&&t.incServices.length>0&&t.incServices.map((function(e,t){return x(\"li\",{key:t},x(\"span\",null,e.name))})))))),x(\"div\",{className:\"bottomline\"},x(\"div\",{className:\"row\"},x(\"div\",{className:\"col-8\"},x(\"div\",{className:\"line\"})),x(\"div\",{className:\"col-4\"},x(l.a,{as:\"\".concat(\"/strutture-ricettive\",\"/\").concat(e.hotel.slug.it),href:{pathname:\"\".concat(\"/strutture-ricettive\",\"/[accommodition]\")}},x(\"a\",{className:\"goto\"},\"Visualizza la struttura\")))))))},Y=function(e){var t=s.a.useState(0),a=Object(_.a)(t,2),n=a[0],i=a[1];s.a.useEffect((function(){e.meta&&i(parseInt(e.meta.current_page)-1)}),[]);return e.meta?x(C.a,{forcePage:n,previousLabel:\"<\",nextLabel:\">\",breakLabel:\"...\",breakClassName:\"break-me\",pageCount:e.meta.last_page,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(t){return function(t){e.filter.page=t.selected+1;var a=\"?\";for(var n in e.filter)a+=\"\".concat(n,\"=\").concat(e.filter[n],\"&\");window.location.href=window.location.pathname+a}(t)},containerClassName:\"pagination\",subContainerClassName:\"pages pagination\",activeClassName:\"active\"}):\"\"},q=function(e){return x(\"section\",null,x(\"div\",{className:\"container\"},e.hotels&&e.hotels.length>0&&x(s.a.Fragment,null,x(\"div\",{className:\"row\"},e.hotels.map((function(e,t){return x(\"div\",{key:t,className:\"col-md-6\"},x(L,{hotel:e}))}))),x(Y,e)),!e.hotels||e.hotels.length<=0&&x(\"div\",null,\"Nessun risultato\")))},A=s.a.createElement,V=function(e){P.a.locale(\"it\");var t=P()();return A(\"section\",{className:\"section-main section-home-primopiano\"},A(\"div\",{className:\"container\"},A(\"div\",{className:\"box-home-primopiano\"},A(\"div\",{className:\"row\"},A(\"div\",{className:\"col-lg-4\"},A(\"div\",{className:\"home-primopiano-item\"},A(\"div\",{className:\"title\"},\"Transfer traghetto\"),A(\"div\",{className:\"description\"},\"Prenota l\\u2019Hotel con noi ed avrai il Traghetto per Ischia a soli \\u20ac136 \\u20ac70 A/R Auto+Conducente*\"),A(\"div\",{className:\"note\"},\"*offerta non valida dal 26-Dic e dal 03-Gen\"),A(\"div\",{className:\"row\"},A(\"div\",{className:\"col-sm-6\"},A(\"a\",{href:\"#\",className:\"btn btn-transparent\"},\"scopri\")),A(\"div\",{className:\"col-sm-6\"},A(\"i\",{className:\"ico ico-nave\"}))))),e.busPage&&A(\"div\",{className:\"col-lg-4\"},A(\"div\",{className:\"home-primopiano-item\"},A(\"div\",{className:\"title\"},e.busPage.title.it),A(\"div\",{className:\"description\"},A(\"span\",{dangerouslySetInnerHTML:{__html:e.busPage.content_short.it}})),A(\"div\",{className:\"row\"},A(\"div\",{className:\"col-sm-6\"},A(l.a,{href:e.busPage.page_path.it},A(\"a\",{className:\"btn btn-transparent\"},\"scopri\"))),A(\"div\",{className:\"col-sm-6\"},A(\"i\",{className:\"ico ico-orologio\"}))))),A(\"div\",{className:\"col-lg-4\"},A(\"div\",{className:\"home-primopiano-item\"},A(\"div\",{className:\"title\"},\"Offerte del mese\"),A(\"div\",{className:\"description\"},A(\"p\",null,\"Tutte le offerte di \",A(\"strong\",null,t.format(\"MMMM\"),\" \",t.format(\"YYYY\")),\" a portata di click. Non perdere l'occasione.\")),A(\"div\",{className:\"row\"},A(\"div\",{className:\"col-sm-6\"},A(l.a,{href:\"\".concat(\"/offerte\",\"/[slug]\"),as:\"\".concat(\"/offerte\",\"/\").concat(t.format(\"MMMM\").toLowerCase())},A(\"a\",{className:\"btn btn-transparent\"},\"scopri\"))),A(\"div\",{className:\"col-sm-6\"},A(\"i\",{className:\"ico ico-cal\"})))))))))},z=a(\"/MKj\"),F=a(\"UGp+\"),H=a(\"KYPV\"),B=a(\"mI8k\"),G=s.a.createElement,U=Object(z.b)((function(e){return{newsletter:e.newsletter}}),(function(e){var t=new B.a;return{setContact:function(a){e(t.setItem(a))},resetContact:function(){e(t.resetItem())},getClientIp:function(){e(t.getClientIp())},createContact:function(a){e(t.sendinblue_createContact(a))}}}))((function(e){s.a.useEffect((function(){e.getClientIp()}),[]);var t=function(t){t.persist(),console.log(\"onChage\",t);var a=Object.assign({},e.newsletter);switch(t.target.name){case\"privacy\":a[t.target.name]=t.target.checked?1:0;break;default:a[t.target.name]=t.target.value}e.setContact(a)},a=Object(H.a)({initialValues:{email:e.newsletter.email||\"\",privacy:e.newsletter.privacy||0},validationSchema:F.b().shape({email:F.c().required(\"Campo non valido\"),privacy:F.a().min(1,\"Campo non valido\").max(1,\"Campo non valido\")}),enableReinitialize:!0,onSubmit:function(){e.createContact(e.newsletter)}});return G(\"section\",{className:\"section-main section-newsletter\"},G(\"div\",{className:\"container\"},G(\"div\",{className:\"row\"},G(\"div\",{className:\"col-lg-5\"},G(\"div\",{className:\"description\"},G(\"strong\",null,\"Inserisci la tua email.\",G(\"br\",null),\"Sarai aggiornato su tutte le offerte.\"),G(\"br\",null),\"Alcune sono riservate ai soli iscritti.\",G(\"br\",null),\"Per una vacanza su misura contatta\",G(\"br\",null),\"il nostro booking \",\"347 512 3030\")),G(\"div\",{className:\"col-lg-6 offset-lg-1\"},G(\"form\",{onSubmit:a.handleSubmit,className:\"needs-validation\"+(a.errors?\"was-validated\":\"\"),noValidate:!0},G(\"div\",{className:\"form-template-1\"},G(\"div\",{className:\"row\"},G(\"div\",{className:\"col-lg-9\"},G(\"div\",{className:\"form-group\"},G(\"input\",{type:\"email\",className:\"form-control\"+(a.errors.email?\" is-invalid\":\"\"),id:\"newsletter_email\",name:\"email\",placeholder:\"Email\",value:a.values.email||\"\",onChange:function(e){t(e),a.handleChange(e)}}),a.errors.email&&G(\"div\",{className:\"invalid-feedback\"},a.errors.email)),G(\"div\",{className:\"form-group\"},G(\"div\",{className:\"custom-control custom-checkbox\"},G(\"input\",{type:\"checkbox\",className:\"custom-control-input\"+(a.errors.privacy?\" is-invalid\":\"\"),name:\"privacy\",id:\"newsletter_privacy\",value:\"1\",checked:1==a.values.privacy?1:0,onChange:function(e){t(e),a.handleChange(e)}}),G(\"label\",{className:\"custom-control-label\",htmlFor:\"newsletter_privacy\"},\"Acconsento al trattamento dei miei dati ai sensi dell\\u2019informativa sulla \",G(\"a\",{href:\"/privacy-policy\",target:\"_blank\",rel:\"nofollow\"},\"Privacy\"),\".\"),a.errors.privacy&&G(\"div\",{className:\"invalid-feedback\"},a.errors.privacy)))),G(\"div\",{className:\"col-lg-3\"},G(\"div\",{className:\"form-group\"},G(\"button\",{type:\"submit\",className:\"btn btn-green\"},\"iscriviti\"))))))))))})),X=s.a.createElement,J=function(e){return!e.page||e.page.length<=0?X(y.a,{settings:{menu:e.menu}},X(\"div\",null,\"Data not found\")):X(y.a,{settings:{template:\"front-page\",menu:e.menu},meta:{title:e.page.meta_title.it,description:e.page.meta_description.it,url:\"\".concat(\"https://www.nextravel.it\"),image:e.page.media&&e.page.media.thumbnails&&e.page.media.thumbnails[0]?e.page.media.thumbnails[0].url:null}},X(\"section\",{className:\"section-main section-first home\"},X(\"div\",{className:\"container\"},X(\"div\",{className:\"row\"},X(\"div\",{className:\"col-lg-7\"},X(\"div\",{className:\"primary-title\"},X(\"h1\",null,e.page.subtitle.it),X(\"span\",{style:{color:\"#384044\",textDecoration:\"underline\"}},\"Chiama! \",\"347 512 3030\"))),X(\"div\",{className:\"col-lg-4 col-offset-1\"},X(\"div\",{className:\"primary-description\"},X(\"div\",{dangerouslySetInnerHTML:{__html:e.page.content.it}})))))),X(w.a,{query:e.query,full:!0}),X(\"section\",{className:\"section-main\"},X(\"div\",{className:\"container\"},X(\"div\",{className:\"primary-title text-center\"},X(\"h2\",null,\"Prenota la tua vacanza tra una vasta scelta di Hotel selezionati.\")),X(\"div\",{className:\"primary-description text-center\"},\"Per qualsiasi informazione non esitare a contattarci allo\",\" \",X(\"strong\",null,\"347 512 3030\")))),X(q,{hotels:e.hotels&&e.hotels.data?e.hotels.data:[]}),e.hotels&&e.hotels.meta&&parseInt(e.hotels.meta.to)<parseInt(e.hotels.meta.last_page)&&X(\"section\",{className:\"section-main\"},X(\"div\",{className:\"container text-center\"},X(l.a,{href:\"\".concat(\"/strutture-ricettive\"),as:\"\".concat(\"/strutture-ricettive\",\"?page=2\")},X(\"a\",{className:\"btn btn-more\"},\"Carica le altre offerte\")))),X(V,e),X(U,null))};J.getInitialProps=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n,r,c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=null,r=null,c=[],e.prev=4,s=new m.a,e.next=8,s.get(1);case 8:return a=e.sent,o=new d.a,e.next=12,o.get(1);case 12:return n=e.sent,e.next=15,o.get(3);case 15:return r=e.sent,l=new p.a,e.next=19,l.query({hasEmptyPeriods:!0,orderBy:\"order_seq\",orderHow:\"asc\",paginate:30});case 19:c=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),console.log(\"error\",e.t0);case 25:return e.abrupt(\"return\",{params:t.params,query:t.query,menu:a,page:n,busPage:r,hotels:c});case 26:case\"end\":return e.stop()}}),e,null,[[4,22]])})));return function(t){return e.apply(this,arguments)}}();t.default=J},mI8k:function(e,t,a){\"use strict\";a.d(t,\"b\",(function(){return h})),a.d(t,\"a\",(function(){return g}));var n=a(\"1OyB\"),i=a(\"vuIU\"),r=a(\"Ji7U\"),c=a(\"md7G\"),s=a(\"foSv\"),o=a(\"sYsk\"),l=a(\"XvPD\"),u=a(\"YRjj\"),m=a(\"vDqi\"),d=a.n(m);function p(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var v=function(e){Object(r.a)(a,e);var t=p(a);function a(){return Object(n.a)(this,a),t.call(this,\"/newsletter\")}return Object(i.a)(a,[{key:\"getClientIp\",value:function(){return d.a.get(\"/get-client-ip\",this.config).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:\"sendinblue_createContact\",value:function(e){return d.a.post(\"\".concat(this.url,\"/sendinblue/contacts\"),e,this.config).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}}]),a}(a(\"jC1T\").a);function f(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var h={SET_ITEM:\"NEWSLETTER_SET_ITEM\",RESET_ITEM:\"NEWSLETTER_RESET_ITEM\",GET_CLIENT_IP:\"NEWSLETTER_GET_CLIENT_IP\",SENDINBLUE_CREATE_CONTACT:\"NEWSLETTER_SENDINBLUE_CREATE_CONTACT\"},g=function(e){Object(r.a)(a,e);var t=f(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).service=new v,e.consts=h,e}return Object(i.a)(a,[{key:\"setItem\",value:function(e){var t=this;return function(a){a({type:t.consts.SET_ITEM,item:e})}}},{key:\"resetItem\",value:function(){var e=this;return function(t){t({type:e.consts.RESET_ITEM})}}},{key:\"getClientIp\",value:function(){var e=this;return function(t){e.service.getClientIp().then((function(a){t({type:e.consts.GET_CLIENT_IP,clientIp:a.data.clientIp})})).catch((function(e){}))}}},{key:\"sendinblue_createContact\",value:function(e){var t=this;return function(a){a(l.a.show()),t.service.sendinblue_createContact(e).then((function(e){a(t.resetItem()),a(u.b.alertMessageSuccess(\"Ti ringraziamo per esserti registrato alla newsletter. Ti terremo aggiornati sulle nostre offerte.\")),a(l.a.hide())})).catch((function(e){a(u.b.alertMessageError(e.response.data.meta.message)),a(l.a.hide())}))}}}]),a}(o.a)},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return a(\"RNiq\")}])}},[[\"vlRD\",0,2,4,7,1,3,5,6,8,9,10]]]);","extractedComments":[]}