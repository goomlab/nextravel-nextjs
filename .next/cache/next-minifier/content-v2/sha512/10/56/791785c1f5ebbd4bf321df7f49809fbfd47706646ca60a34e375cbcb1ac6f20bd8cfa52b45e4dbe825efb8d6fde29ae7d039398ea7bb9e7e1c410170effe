{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{\"8Otk\":function(e,t,a){\"use strict\";var r=a(\"rePB\"),n=a(\"ODXe\"),c=a(\"q1tI\"),i=a.n(c),o=a(\"/MKj\"),s=a(\"wd/R\"),l=a.n(s),u=a(\"UGp+\"),m=a(\"KYPV\"),d=a(\"1OyB\"),f=a(\"Ji7U\"),p=a(\"md7G\"),v=a(\"foSv\");a(\"vDqi\");function h(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(v.a)(e);if(t){var n=Object(v.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(p.a)(this,a)}}var g=function(e){Object(f.a)(a,e);var t=h(a);function a(){return Object(d.a)(this,a),t.call(this,\"/travelgo-one/services\")}return a}(a(\"jC1T\").a),b=a(\"p54a\"),y=a(\"iDBw\"),_=a.n(y),O=i.a.createElement;function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){var t=i.a.useState({startDate:e.startDate?l()(e.startDate,\"YYYY-MM-DD\"):l()(),endDate:e.endDate?l()(e.endDate,\"YYYY-MM-DD\"):l()().add(\"2 days\")}),a=Object(n.a)(t,2),r=a[0],c=a[1];i.a.useEffect((function(){c(N(N({},r),{},{startDate:e.startDate?l()(e.startDate,\"YYYY-MM-DD\"):l()(),endDate:e.endDate?l()(e.endDate,\"YYYY-MM-DD\"):l()().add(\"2 days\")}))}),[e]);return O(i.a.Fragment,null,O(_.a,{minDate:l()().format(\"YYYY-MM-DD\"),startDate:r.startDate,endDate:r.endDate,autoApply:!0,onApply:function(t,a){return function(t,a){e.onChange(a.startDate,a.endDate),c({startDate:a.startDate,endDate:a.endDate})}(0,a)}},O(\"input\",{type:\"text\",className:\"form-control\",id:\"\",name:\"\",placeholder:\"Checkin\",value:r.startDate.format(\"DD/MM/YYYY\")+\" - \"+r.endDate.format(\"DD/MM/YYYY\")||\"\",onChange:function(e){return function(e){console.log(e.target.value)}(e)}})))},C=i.a.createElement;function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=Object(o.b)((function(e){return{practice:e.practiceByGuest.item}}),(function(e){var t=new b.a;return{setPractice:function(a){e(t.setItem(a))},resetPractice:function(){e(t.resetItem())},getClientIp:function(){e(t.getClientIp())},createPractice:function(a){e(t.create(a))}}}))((function(e){var t=i.a.useState([]),a=Object(n.a)(t,2),r=a[0],c=a[1];i.a.useEffect((function(){var t=Object.assign({},e.practice);if(e.setPractice(P(P({},t),{},{hotel_id:e.hotel.id,rate_plan_id:e.rateplan.id,checkin:e.query.checkin||null,checkout:e.query.checkout||null,treatment:e.query.treatment||null,room_type_id:e.query.room_type_id||null})),null!=e.query.room_type_id&&e.query.room_type_id>0){for(var a=[],r=0,i=Object.entries(e.period.viewPeriodPrices);r<i.length;r++){var o=Object(n.a)(i[r],2),s=(o[0],o[1]);if(s.room_type.id==e.query.room_type_id)for(var l=0,u=Object.entries(s.prices);l<u.length;l++){var m=Object(n.a)(u[l],2),d=m[0];m[1];a.push(d)}}c(a)}}),[e.query]);var o=i.a.useState([]),s=Object(n.a)(o,2),l=s[0],d=s[1];i.a.useEffect((function(){(new g).all({type:{key:\"type\",compare:\"=\",value:\"transfer\"}}).then((function(e){d(e)}))}),[]);var f=function(t){t.persist();var a=Object.assign({},e.practice);switch(t.target.name){case\"room_type_id\":for(var r=!1,i=0,o=Object.entries(e.period.viewPeriodPrices);i<o.length;i++){var s=Object(n.a)(o[i],2),l=(s[0],s[1]);if(l.room_type.id==t.target.value){for(var u=[],m=0,d=Object.entries(l.prices);m<d.length;m++){var f=Object(n.a)(d[m],2),p=f[0];f[1];u.push(p)}c(u),a.customer[t.target.name]=t.target.value,r=!0;break}}r||c([]);break;case\"privacy\":a[t.target.name]=t.target.checked?1:0;break;case\"first_name\":case\"last_name\":case\"email\":case\"mobile\":a.customer[t.target.name]=t.target.value;break;default:a[t.target.name]=t.target.value}e.setPractice(a)},p=function(t,a){t.persist();var r=Object.assign({},e.practice);switch(t.currentTarget.dataset.name){case\"childrens\":if(0==parseInt(t.currentTarget.value))r.rooms[a].childrenAges=[];else if(r.rooms[a].childrens>parseInt(t.currentTarget.value))r.rooms[a].childrenAges.splice(t.currentTarget.value);else for(var n=r.rooms[a].childrens;n<parseInt(t.currentTarget.value);n++)r.rooms[a].childrenAges.push(-1);r.rooms[a].childrens=t.currentTarget.value;break;case\"ageChildrens\":var c=t.currentTarget.dataset.index;r.rooms[a].childrenAges[c]=t.currentTarget.value,r.rooms[a].childrenAges.sort((function(e,t){return t-e}));break;default:r.rooms[a][t.currentTarget.dataset.name]=t.currentTarget.value}e.setPractice(r)},v=Object(m.a)({initialValues:{treatment:e.practice.treatment||\"\",room_type_id:e.practice.room_type_id||\"\",first_name:e.practice.customer.first_name||\"\",last_name:e.practice.customer.last_name||\"\",email:e.practice.customer.email||\"\",mobile:e.practice.customer.mobile||\"\",privacy:e.practice.privacy||0},validationSchema:u.b().shape({treatment:u.c().required(\"Campo non valido\"),room_type_id:u.c().required(\"Campo non valido\"),first_name:u.c().required(\"Campo non valido\"),last_name:u.c().required(\"Campo non valido\"),email:u.c().required(\"Campo non valido\"),mobile:u.c().required(\"Campo non valido\"),privacy:u.a().min(1,\"Campo non valido\").max(1,\"Campo non valido\")}),enableReinitialize:!0,onSubmit:function(){e.createPractice(e.practice)}});return C(i.a.Fragment,null,C(\"form\",{onSubmit:v.handleSubmit,className:\"needs-validation\"+(v.errors?\"was-validated\":\"\"),noValidate:!0},C(\"div\",{className:\"box2 form-template-1\"},C(\"div\",{className:\"row\"},C(\"div\",{className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Arrivo - Partenza\"),C(D,{startDate:e.practice.checkin,endDate:e.practice.checkout,onChange:function(t,a){return function(t,a){var r=Object.assign({},e.practice);r.checkin=t.format(\"YYYY-MM-DD\"),r.checkout=a.format(\"YYYY-MM-DD\"),e.setPractice(r)}(t,a)}}))),C(\"div\",{className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Camera\"),C(\"select\",{className:\"custom-select\"+(v.errors.treatment?\" is-invalid\":\"\"),name:\"room_type_id\",id:\"room_type_id\",value:v.values.room_type_id||\"\",onChange:function(e){f(e),v.handleChange(e)}},C(\"option\",{value:\"\"},\"Camera\"),e.period.viewPeriodPrices&&Object.entries(e.period.viewPeriodPrices).map((function(e,t){var a=Object(n.a)(e,2),r=(a[0],a[1]);return C(\"option\",{key:t,value:r.room_type.id},r.room_type.name)}))),v.errors.treatment&&C(\"div\",{className:\"invalid-feedback\"},v.errors.room_type_id))),C(\"div\",{className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Trattamento\"),C(\"select\",{className:\"custom-select\"+(v.errors.treatment?\" is-invalid\":\"\"),name:\"treatment\",id:\"treatment\",value:v.values.treatment||\"\",onChange:function(e){f(e),v.handleChange(e)}},C(\"option\",{value:\"\"},\"Trattamento\"),r&&r.map((function(e){return C(\"option\",{key:e,value:e},e)}))),v.errors.treatment&&C(\"div\",{className:\"invalid-feedback\"},v.errors.treatment))),C(\"div\",{className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Transfer\"),C(\"select\",{className:\"custom-select\",name:\"transfer_id\",id:\"tranfer_id\",value:e.practice.transfer_id||\"\",onChange:function(e){return f(e)}},C(\"option\",{value:\"\"},\"Transfer\"),l.map((function(e,t){return C(\"option\",{key:t,value:e.id},e.name)})))))),C(\"div\",{className:\"room-box\",id:\"roomBox\"},function(){var t=[],a=function(a){for((n=[]).push(C(\"option\",{key:0,value:\"0\"},\"Adulti\")),s=1;s<=4;s++)n.push(C(\"option\",{key:s,value:s},s));for((c=[]).push(C(\"option\",{key:0,value:\"0\"},\"Bambini\")),s=1;s<=4;s++)c.push(C(\"option\",{key:s,value:s},s));for((o=[]).push(C(\"option\",{key:-1,value:\"\"},\"Et\\xe0\")),s=0;s<=12;s++)o.push(C(\"option\",{key:s,value:s},s));var r=[];for(var l in e.practice.rooms[a].childrenAges)r.push(C(\"div\",{key:l,className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Et\\xe0\"),C(\"select\",{className:\"custom-select\",name:\"childrens_age[]\",\"data-name\":\"ageChildrens\",\"data-index\":l,value:e.practice.rooms[a].childrenAges[l]||0,onChange:function(e){return p(e,a)}},o))));t.push(C(\"div\",{key:a,className:\"row\"},C(\"div\",{className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},0==a&&C(\"button\",{type:\"button\",className:\"btn btn-green\",onClick:function(){return function(){var t=Object.assign({},e.practice);t.rooms.push({adults:2,childrens:0,childrenAges:[]}),e.setPractice(t)}()}},\"+ Camera\"),a>0&&C(i.a.Fragment,null,C(\"label\",null,\"camera \",C(\"span\",{className:\"room-number\"},parseInt(a)+1)),\"\\xa0\\xa0\",C(\"button\",{type:\"button\",className:\"btn btn-danger btn-sm roomBox_buttonDelete\",onClick:function(){return function(t){var a=Object.assign({},e.practice);a.rooms.splice(t,1),e.setPractice(a)}(a)}},C(\"i\",{className:\"fas fa-times\"}))))),C(\"div\",{className:\"col-lg-2\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Adulti\"),C(\"select\",{className:\"custom-select\",id:\"adults_\".concat(a),name:\"adults[]\",\"data-name\":\"adults\",value:e.practice.rooms[a].adults||0,onChange:function(e){return p(e,a)}},\"$\",n))),C(\"div\",{className:\"col-lg-2\"},C(\"div\",{className:\"form-group\"},C(\"label\",null,\"Bambini\"),C(\"select\",{className:\"custom-select\",id:\"childrens_\".concat(a),name:\"childrens[]\",\"data-name\":\"childrens\",value:e.practice.rooms[a].childrens||0,onChange:function(e){return p(e,a)}},\"$\",c))),C(\"div\",{className:\"col-lg-4\"},C(\"div\",{className:\"row table_childrenAges\"},r))))};for(var r in e.practice.rooms){var n,c,o,s;a(r)}return t}())),C(\"div\",{className:\"box3 form-template-2\"},C(\"div\",{className:\"row\"},C(\"div\",{className:\"col-lg-3\"},C(\"div\",{className:\"form-group\"},C(\"div\",{className:\"title\"},\"Richiedi il tuo preventivo gratuitamente\"))),C(\"div\",{className:\"col-lg-4\"},C(\"div\",{className:\"form-group\"},C(\"input\",{type:\"text\",className:\"form-control\"+(v.errors.first_name?\" is-invalid\":\"\"),id:\"first_name\",name:\"first_name\",placeholder:\"Nome\",value:v.values.first_name||\"\",onChange:function(e){f(e),v.handleChange(e)}}),v.errors.first_name&&C(\"div\",{className:\"invalid-feedback\"},v.errors.first_name)),C(\"div\",{className:\"form-group\"},C(\"input\",{type:\"text\",className:\"form-control\"+(v.errors.last_name?\" is-invalid\":\"\"),id:\"last_name\",name:\"last_name\",placeholder:\"Cognome\",value:v.values.last_name||\"\",onChange:function(e){f(e),v.handleChange(e)}}),v.errors.last_name&&C(\"div\",{className:\"invalid-feedback\"},v.errors.last_name)),C(\"div\",{className:\"form-group\"},C(\"input\",{type:\"email\",className:\"form-control\"+(v.errors.email?\" is-invalid\":\"\"),id:\"email\",name:\"email\",placeholder:\"Email\",value:v.values.email||\"\",onChange:function(e){f(e),v.handleChange(e)}}),v.errors.email&&C(\"div\",{className:\"invalid-feedback\"},v.errors.email)),C(\"div\",{className:\"form-group\"},C(\"input\",{type:\"text\",className:\"form-control\"+(v.errors.mobile?\" is-invalid\":\"\"),id:\"mobile\",name:\"mobile\",placeholder:\"Cellulare\",value:v.values.mobile||\"\",onChange:function(e){f(e),v.handleChange(e)}}),v.errors.mobile&&C(\"div\",{className:\"invalid-feedback\"},v.errors.mobile))),C(\"div\",{className:\"col-lg-5\"},C(\"div\",{className:\"form-group\"},C(\"textarea\",{className:\"form-control\",id:\"message\",name:\"message\",placeholder:\"Messaggio\",value:e.practice.message||\"\",onChange:function(e){return f(e)}})),C(\"div\",{className:\"form-group\"},C(\"div\",{className:\"custom-control custom-checkbox\"},C(\"input\",{type:\"checkbox\",className:\"custom-control-input\"+(v.errors.privacy?\" is-invalid\":\"\"),name:\"privacy\",id:\"privacy\",value:\"1\",checked:1==v.values.privacy?1:0,onChange:function(e){f(e),v.handleChange(e)}}),C(\"label\",{className:\"custom-control-label\",htmlFor:\"privacy\"},\"Acconsento al trattamento dei miei dati ai sensi dell\\u2019informativa sulla \",C(\"a\",{href:\"/privacy-policy\",target:\"_blank\",rel:\"nofollow\"},\"Privacy\"),\".\"),v.errors.privacy&&C(\"div\",{className:\"invalid-feedback\"},v.errors.privacy))),C(\"div\",{className:\"form-group text-right\"},C(\"button\",{type:\"submit\",className:\"btn-submit\"},\"richiedi disponibilit\\xe0\")))))))}))},ZC9X:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return m}));var r=a(\"1OyB\"),n=a(\"vuIU\"),c=a(\"Ji7U\"),i=a(\"md7G\"),o=a(\"foSv\"),s=a(\"vDqi\"),l=a.n(s);function u(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var m=function(e){Object(c.a)(a,e);var t=u(a);function a(){return Object(r.a)(this,a),t.call(this,\"/travelgo-one/practices\")}return Object(n.a)(a,[{key:\"getClientIp\",value:function(){return l.a.get(\"/get-client-ip\",this.config).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:\"createByGuest\",value:function(e){return l.a.post(this.url+\"/create-by-guest\",e,{headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}}]),a}(a(\"jC1T\").a)},p54a:function(e,t,a){\"use strict\";a.d(t,\"b\",(function(){return f})),a.d(t,\"a\",(function(){return p}));var r=a(\"1OyB\"),n=a(\"vuIU\"),c=a(\"Ji7U\"),i=a(\"md7G\"),o=a(\"foSv\"),s=a(\"sYsk\"),l=a(\"XvPD\"),u=a(\"YRjj\"),m=a(\"ZC9X\");function d(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var f={SET_ITEM:\"PRACTICE_BY_GUEST_SET_ITEM\",RESET_ITEM:\"PRACTICE_BY_GUEST_RESET_ITEM\",GET_CLIENT_IP:\"PRACTICE_BY_GUEST_GET_CLIENT_IP\",CREATE:\"PRACTICE_BY_GUEST_CREATE\"},p=function(e){Object(c.a)(a,e);var t=d(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).service=new m.a,e.consts=f,e}return Object(n.a)(a,[{key:\"setItem\",value:function(e){var t=this;return function(a){a({type:t.consts.SET_ITEM,item:e})}}},{key:\"resetItem\",value:function(){var e=this;return function(t){t({type:e.consts.RESET_ITEM})}}},{key:\"getClientIp\",value:function(){var e=this;return function(t){e.service.getClientIp().then((function(a){t({type:e.consts.GET_CLIENT_IP,clientIp:a.data.clientIp})})).catch((function(e){}))}}},{key:\"create\",value:function(e){var t=this;return function(a){a(l.a.show()),t.service.createByGuest(e).then((function(e){a(t.resetItem()),a(u.b.alertMessageSuccess(\"Richiesta inviata con successo!\")),a(l.a.hide())})).catch((function(e){a(u.b.alertMessageError(e.response.data.meta.message)),a(l.a.hide())}))}}}]),a}(s.a)}}]);","extractedComments":[]}