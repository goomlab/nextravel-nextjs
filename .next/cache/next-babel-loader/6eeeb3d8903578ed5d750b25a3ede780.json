{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/accommodations/[accommodation].js\";\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\"; // import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\n\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\n\nvar HotelPage = function HotelPage(props) {\n  if (!props.page || props.page.length <= 0) {\n    return __jsx(Layout, {\n      settings: {\n        menu: props.menu\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }\n    }, \"Data not found\"));\n  }\n\n  var hotel = props.page;\n  var stars = [];\n\n  for (var i = 1; i <= parseInt(hotel.stars); i++) {\n    stars.push(__jsx(\"i\", {\n      key: i,\n      className: \"ico ico-star\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 16\n      }\n    }));\n  }\n\n  return __jsx(Layout, {\n    settings: {\n      template: \"accommodation-page\",\n      menu: props.menu\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(BookingSearchBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: \"single-hotel-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, __jsx(\"figure\", {\n    className: \"img-bgas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: hotel.media && hotel.media.gallery && hotel.media.gallery[0] ? hotel.media.gallery[0].url : 'default',\n    alt: hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"topline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"title mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, hotel.name), __jsx(\"div\", {\n    className: \"stars\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, stars)), __jsx(\"div\", {\n    className: \"single-hotel-call ml-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"chiama!\\xA0\", __jsx(\"span\", {\n    className: \"bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 28\n    }\n  }, process.env.contacts.phone.label))))), __jsx(\"section\", {\n    className: \"section-main only-padding-bottom single-hotel-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"posizione\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, hotel.details.address, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 42\n    }\n  }), hotel.details.zip_code, \" \", hotel.details.city, \" (\", hotel.details.state, \")\"), __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"distanze\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_near.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  })), __jsx(\"ul\", {\n    className: \"hotel-service-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map(function (obj, index) {\n    return __jsx(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 23\n      }\n    }, obj.name));\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_short.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: \"col-lg-7 offset-lg-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, console.log('hotel', hotel), __jsx(PeriodArchive, {\n    hotel: hotel,\n    periods: props.periods,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }))))));\n};\n\n_c = HotelPage;\n\nHotelPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n    var menu, locs, hotelCategories, page, periods, baseService, init, menuService, hotelService, rateplanPeriodService;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            menu = null;\n            locs = [];\n            hotelCategories = [];\n            page = null;\n            periods = [];\n            _context.prev = 5;\n            baseService = new BaseService();\n            _context.next = 9;\n            return baseService.initApp();\n\n          case 9:\n            init = _context.sent;\n            locs = init.locs || [];\n            hotelCategories = init.hotelCategories || [];\n            menuService = new MenuService();\n            _context.next = 15;\n            return menuService.get(1);\n\n          case 15:\n            menu = _context.sent;\n            hotelService = new HotelService();\n            _context.next = 19;\n            return hotelService.getBySlug(params.query.accommodation);\n\n          case 19:\n            page = _context.sent;\n\n            if (!(page && page.id > 0)) {\n              _context.next = 25;\n              break;\n            }\n\n            rateplanPeriodService = new RateplanPeriodService();\n            _context.next = 24;\n            return rateplanPeriodService.query({\n              hotel_id: page.id\n            });\n\n          case 24:\n            periods = _context.sent;\n\n          case 25:\n            _context.next = 29;\n            break;\n\n          case 27:\n            _context.prev = 27;\n            _context.t0 = _context[\"catch\"](5);\n\n          case 29:\n            return _context.abrupt(\"return\", {\n              locs: locs,\n              hotelCategories: hotelCategories,\n              menu: menu,\n              page: page,\n              periods: periods\n            });\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 27]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default HotelPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HotelPage\");","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/accommodations/[accommodation].js"],"names":["React","Link","BaseService","MenuService","PostService","HotelService","RateplanPeriodService","Layout","BookingSearchBox","PeriodArchive","HotelPage","props","page","length","menu","hotel","stars","i","parseInt","push","template","media","gallery","url","name","process","env","contacts","phone","label","details","address","zip_code","city","state","__html","description_near","it","incServices","map","obj","index","description_short","description","console","log","periods","getInitialProps","params","locs","hotelCategories","baseService","initApp","init","menuService","get","hotelService","getBySlug","query","accommodation","id","rateplanPeriodService","hotel_id"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,YAAP,MAAyB,8CAAzB,C,CACA;;AACA,OAAOC,qBAAP,MAAkC,uDAAlC;AAEA,OAAOC,MAAP,MAAmB,4CAAnB;AACA,OAAOC,gBAAP,MAA6B,wCAA7B;AACA,OAAOC,aAAP,MAA0B,qCAA1B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,KAAK,EAAI;AACzB,MAAI,CAACA,KAAK,CAACC,IAAP,IAAeD,KAAK,CAACC,IAAN,CAAWC,MAAX,IAAqB,CAAxC,EAA2C;AACzC,WACE,MAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE;AAAEC,QAAAA,IAAI,EAAEH,KAAK,CAACG;AAAd,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF;AAKD;;AAED,MAAMC,KAAK,GAAGJ,KAAK,CAACC,IAApB;AAEA,MAAII,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIC,QAAQ,CAACH,KAAK,CAACC,KAAP,CAA7B,EAA4CC,CAAC,EAA7C,EAAkD;AAChDD,IAAAA,KAAK,CAACG,IAAN,CAAW;AAAG,MAAA,GAAG,EAAEF,CAAR;AAAW,MAAA,SAAS,EAAC,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAX;AACD;;AAED,SACE,MAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE;AAAEG,MAAAA,QAAQ,EAAE,oBAAZ;AAAkCN,MAAAA,IAAI,EAAEH,KAAK,CAACG;AAA9C,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE;AAAS,IAAA,SAAS,EAAC,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,GAAG,EAAGC,KAAK,CAACM,KAAN,IAAeN,KAAK,CAACM,KAAN,CAAYC,OAA3B,IAAsCP,KAAK,CAACM,KAAN,CAAYC,OAAZ,CAAoB,CAApB,CAAvC,GAAiEP,KAAK,CAACM,KAAN,CAAYC,OAAZ,CAAoB,CAApB,EAAuBC,GAAxF,GAA8F,SADrG;AAEE,IAAA,GAAG,EAAER,KAAK,CAACM,KAAN,IAAeN,KAAK,CAACM,KAAN,CAAYC,OAA3B,IAAsCP,KAAK,CAACM,KAAN,CAAYC,OAAZ,CAAoB,CAApB,CAAtC,IAAgEP,KAAK,CAACM,KAAN,CAAYC,OAAZ,CAAoB,CAApB,EAAuBE,IAF9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGT,KAAK,CAACS,IAFT,CADF,EAME;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,KADH,CANF,CADF,EAWE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACe;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBS,OAAO,CAACC,GAAR,CAAYC,QAAZ,CAAqBC,KAArB,CAA2BC,KAAnD,CADf,CAXF,CARF,CADF,CAHF,EA+BE;AAAS,IAAA,SAAS,EAAC,uDAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAIE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,KAAK,CAACe,OAAN,CAAcC,OADjB,EACyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADzB,EAEGhB,KAAK,CAACe,OAAN,CAAcE,QAFjB,OAE4BjB,KAAK,CAACe,OAAN,CAAcG,IAF1C,QAEkDlB,KAAK,CAACe,OAAN,CAAcI,KAFhE,MAJF,EASE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF,EAYE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAEpB,KAAK,CAACqB,gBAAN,CAAuBC;AAAjC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAZF,EAmBE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,KAAK,CAACuB,WAAN,IAAqBvB,KAAK,CAACuB,WAAN,CAAkBzB,MAAlB,GAA2B,CAAhD,IAAqDE,KAAK,CAACuB,WAAN,CAAkBC,GAAlB,CAAuB,UAACC,GAAD,EAAMC,KAAN;AAAA,WAC3E;AAAI,MAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGGD,GAAG,CAAChB,IAHP,CADF,CAD2E;AAAA,GAAvB,CADxD,CAnBF,CADF,EAiCE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,uBAAuB,EAAE;AAAEW,MAAAA,MAAM,EAAEpB,KAAK,CAAC2B,iBAAN,CAAwBL;AAAlC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAjCF,EAuCE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,uBAAuB,EAAE;AAAEF,MAAAA,MAAM,EAAEpB,KAAK,CAAC4B,WAAN,CAAkBN;AAA5B,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAvCF,CADF,EA+CE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuCO,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoB9B,KAApB,CAAvC,EACE,MAAC,aAAD;AACE,IAAA,KAAK,EAAEA,KADT;AAEE,IAAA,OAAO,EAAEJ,KAAK,CAACmC,OAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA/CF,CADF,CADF,CA/BF,CADF;AA4FD,CA5GD;;KAAMpC,S;;AA8GNA,SAAS,CAACqC,eAAV;AAAA,sEAA4B,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBlC,YAAAA,IADsB,GACf,IADe;AAEtBmC,YAAAA,IAFsB,GAEf,EAFe;AAGtBC,YAAAA,eAHsB,GAGJ,EAHI;AAItBtC,YAAAA,IAJsB,GAIf,IAJe;AAKtBkC,YAAAA,OALsB,GAKZ,EALY;AAAA;AAOpBK,YAAAA,WAPoB,GAON,IAAIjD,WAAJ,EAPM;AAAA;AAAA,mBAQPiD,WAAW,CAACC,OAAZ,EARO;;AAAA;AAQpBC,YAAAA,IARoB;AASxBJ,YAAAA,IAAI,GAAGI,IAAI,CAACJ,IAAL,IAAa,EAApB;AACAC,YAAAA,eAAe,GAAGG,IAAI,CAACH,eAAL,IAAwB,EAA1C;AAEII,YAAAA,WAZoB,GAYN,IAAInD,WAAJ,EAZM;AAAA;AAAA,mBAaXmD,WAAW,CAACC,GAAZ,CAAgB,CAAhB,CAbW;;AAAA;AAaxBzC,YAAAA,IAbwB;AAepB0C,YAAAA,YAfoB,GAeL,IAAInD,YAAJ,EAfK;AAAA;AAAA,mBAgBXmD,YAAY,CAACC,SAAb,CAAuBT,MAAM,CAACU,KAAP,CAAaC,aAApC,CAhBW;;AAAA;AAgBxB/C,YAAAA,IAhBwB;;AAAA,kBAkBpBA,IAAI,IAAIA,IAAI,CAACgD,EAAL,GAAU,CAlBE;AAAA;AAAA;AAAA;;AAmBlBC,YAAAA,qBAnBkB,GAmBM,IAAIvD,qBAAJ,EAnBN;AAAA;AAAA,mBAoBNuD,qBAAqB,CAACH,KAAtB,CAA4B;AAACI,cAAAA,QAAQ,EAAElD,IAAI,CAACgD;AAAhB,aAA5B,CApBM;;AAAA;AAoBtBd,YAAAA,OApBsB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,6CA0BnB;AACLG,cAAAA,IAAI,EAAJA,IADK;AAELC,cAAAA,eAAe,EAAfA,eAFK;AAGLpC,cAAAA,IAAI,EAAJA,IAHK;AAILF,cAAAA,IAAI,EAAJA,IAJK;AAKLkC,cAAAA,OAAO,EAAPA;AALK,aA1BmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA5B;;AAAA;AAAA;AAAA;AAAA;;AAmCA,eAAepC,SAAf","sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\n\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\";\n// import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\n\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\n\nconst HotelPage = props => {\n  if (!props.page || props.page.length <= 0) {\n    return (\n      <Layout settings={{ menu: props.menu }}>\n        <div>Data not found</div>\n      </Layout>\n    );\n  }\n\n  const hotel = props.page;\n  \n  let stars = [];\n  for( let i = 1; i <= parseInt(hotel.stars); i++ ) {\n    stars.push(<i key={i} className=\"ico ico-star\"></i>);\n  }\n\n  return (\n    <Layout settings={{ template: \"accommodation-page\", menu: props.menu }}>\n      <BookingSearchBox />\n\n      <section className=\"single-hotel-section\">\n        <div className=\"container\">\n          <figure className=\"img-bgas\">\n            <img\n              src={(hotel.media && hotel.media.gallery && hotel.media.gallery[0]) ? hotel.media.gallery[0].url : 'default'}\n              alt={hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name} \n              />\n          </figure>\n\n          <div className=\"topline\">\n            <div className=\"title mr-auto\">\n              <h1>\n                {/* Hotel&nbsp;<strong>Sorriso</strong> */}\n                {hotel.name}\n              </h1>\n              {/* <!-- &nbsp;&nbsp;&nbsp;&nbsp; --> */}\n              <div className=\"stars\">\n                {stars}\n              </div>\n            </div>\n            <div className=\"single-hotel-call ml-auto\">\n              chiama!&nbsp;<span className=\"bold\">{process.env.contacts.phone.label}</span>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section className=\"section-main only-padding-bottom single-hotel-section\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-4\">\n              <div className=\"content-box content-box-1\">\n                <div className=\"titoletto\">\n                  posizione\n                </div>\n                <div className=\"description\">\n                  {hotel.details.address}<br/>\n                  {hotel.details.zip_code} {hotel.details.city} ({hotel.details.state})\n                </div>\n\n                <div className=\"titoletto\">\n                    distanze\n                </div>\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_near.it }} />\n                </div>\n                {/* <div className=\"description\">\n                  Piano famiglia 4=3 1 bambino fino a 12 anni in camera con 2 adulti Gratis\n                </div> */}\n                \n                <ul className=\"hotel-service-list\">\n                  {hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map( (obj, index) => \n                    <li key={index}>\n                      <span>\n                        {/* ico */}\n                        {/* <i className=\"ico ico-childrens\"></i> */}\n                        {obj.name}\n                      </span>\n                    </li>\n                  )}\n                </ul>\n              </div>\n                                \n              <div className=\"content-box content-box-2\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_short.it }} />\n                </div>\n              </div>\n                                \n              <div className=\"content-box content-box-3\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description.it }} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"col-lg-7 offset-lg-1\">{console.log('hotel',hotel)}\n              <PeriodArchive\n                hotel={hotel}\n                periods={props.periods} \n                />\n            </div>\n          </div>\n        </div>\n      </section>\n    </Layout>\n  );\n};\n\nHotelPage.getInitialProps = async params => {\n  let menu = null;\n  let locs = [];\n  let hotelCategories = [];\n  let page = null;\n  let periods = [];\n  try {\n    let baseService = new BaseService();\n    let init = await baseService.initApp();\n    locs = init.locs || [];\n    hotelCategories = init.hotelCategories || [];\n\n    let menuService = new MenuService();\n    menu = await menuService.get(1);\n\n    let hotelService = new HotelService();\n    page = await hotelService.getBySlug(params.query.accommodation);\n\n    if( page && page.id > 0 ){\n      let rateplanPeriodService = new RateplanPeriodService();\n      periods = await rateplanPeriodService.query({hotel_id: page.id});\n    }\n  } catch (e) {\n\n  }\n\n  return {\n    locs,\n    hotelCategories,\n    menu,\n    page,\n    periods\n  };\n};\n\nexport default HotelPage;\n"]},"metadata":{},"sourceType":"module"}