{"ast":null,"code":"import BaseAction from '~/packages/BaseAction';\nimport PageLoaderAction from '~/packages/Base/actions/PageLoaderAction';\nimport AlertMessageAction from '~/packages/Base/actions/AlertMessageAction';\nimport PracticeService from '../services/PracticeService';\nexport const practiceByGuestConsts = {\n  SET_ITEM: 'PRACTICE_BY_GUEST_SET_ITEM',\n  RESET_ITEM: 'PRACTICE_BY_GUEST_RESET_ITEM',\n  GET_CLIENT_IP: 'PRACTICE_BY_GUEST_GET_CLIENT_IP',\n  CREATE: 'PRACTICE_BY_GUEST_CREATE'\n};\nexport default class PracticeByGuestAction extends BaseAction {\n  constructor() {\n    super();\n    this.service = new PracticeService();\n    this.consts = practiceByGuestConsts;\n  }\n\n  setItem(item) {\n    return dispatch => {\n      dispatch({\n        type: this.consts.SET_ITEM,\n        item: item\n      });\n    };\n  }\n\n  resetItem() {\n    return dispatch => {\n      dispatch({\n        type: this.consts.RESET_ITEM\n      });\n    };\n  }\n\n  getClientIp() {\n    return dispatch => {\n      this.service.getClientIp().then(response => {\n        dispatch({\n          type: this.consts.GET_CLIENT_IP,\n          clientIp: response.data.clientIp\n        });\n      }).catch(error => {});\n    };\n  }\n\n  create(params) {\n    return dispatch => {\n      dispatch(PageLoaderAction.show());\n      this.service.createByGuest(params).then(response => {\n        dispatch(this.resetItem());\n        dispatch(AlertMessageAction.alertMessageSuccess('Richiesta inviata con successo!'));\n        dispatch(PageLoaderAction.hide());\n      }).catch(error => {\n        dispatch(AlertMessageAction.alertMessageError(error.response.data.meta.message));\n        dispatch(PageLoaderAction.hide());\n      });\n    };\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}