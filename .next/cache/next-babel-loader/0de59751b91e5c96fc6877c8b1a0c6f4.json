{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/components/Partials/HotelArchive2.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport moment from 'moment';\nimport Link from \"next/link\";\nimport ReactPaginate from 'react-paginate';\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\nimport PriceTable from './PriceTable';\n\nvar NavTab = function NavTab(props) {\n  var index = props.index;\n  var dateFrom = moment(props.period.date_from, 'YYYY-MM-DD');\n  var dateTo = moment(props.period.date_to, 'YYYY-MM-DD');\n  return __jsx(\"div\", {\n    key: index,\n    className: \"swiper-slide swiper-slide-\".concat(props.hotel.id),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, __jsx(\"a\", {\n    className: \"nav-item nav-link \".concat(index == props.activeTab ? 'active' : ''),\n    id: \"nav-\".concat(props.hotel.id, \"-period-\").concat(index, \"-tab\"),\n    \"data-toggle\": \"tab\",\n    href: \"#nav-\".concat(props.hotel.id, \"-period-\").concat(index),\n    role: \"tab\",\n    \"aria-controls\": \"nav-\".concat(props.hotel.id, \"-period-\").concat(index),\n    \"aria-selected\": \"true\",\n    onClick: function onClick() {\n      return props.onActivateTab(index);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, dateFrom.format('DD/MM'), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }), dateTo.format('DD/MM')), __jsx(\"i\", {\n    className: \"ico ico-arrow-curved\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  })));\n};\n\n_c = NavTab;\n\nvar NavContent = function NavContent(props) {\n  var index = props.index;\n  var priceList = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(props.period.viewPeriodPrices); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        roomTypeName = _Object$entries$_i[0],\n        roomTypeContent = _Object$entries$_i[1];\n\n    priceList[roomTypeName] = {};\n\n    for (var _i2 = 0, _Object$entries2 = Object.entries(roomTypeContent); _i2 < _Object$entries2.length; _i2++) {\n      var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n          key = _Object$entries2$_i[0],\n          treatmentObj = _Object$entries2$_i[1];\n\n      priceList[roomTypeName][key] = {\n        n1: treatmentObj.n1 ? treatmentObj.n1 : null,\n        n2: treatmentObj.n2 ? treatmentObj.n2 : null,\n        n3: treatmentObj.n3 ? treatmentObj.n3 : null,\n        n4: treatmentObj.n4 ? treatmentObj.n4 : null,\n        n5: treatmentObj.n5 ? treatmentObj.n5 : null,\n        n6: treatmentObj.n6 ? treatmentObj.n6 : null,\n        n7: treatmentObj.n7 ? treatmentObj.n7 : null\n      };\n    }\n  }\n\n  return __jsx(\"div\", {\n    className: \"tab-pane fade \".concat(index == 0 ? 'show active' : ''),\n    id: \"nav-\".concat(props.hotel.id, \"-period-\").concat(index),\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-\".concat(props.hotel.id, \"-period-\").concat(index, \"-tab\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, priceList && Object.entries(priceList).map(function (_ref, index) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        roomType = _ref2[0],\n        treatments = _ref2[1];\n\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, roomType), treatments && Object.entries(treatments).map(function (_ref3, index) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          treatment = _ref4[0],\n          prices = _ref4[1];\n\n      return __jsx(PriceTable, {\n        key: index,\n        index: index,\n        treatment: treatment,\n        prices: prices,\n        hotel: props.hotel,\n        period: props.period,\n        priceTableLink: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      });\n    }));\n  }));\n};\n\n_c2 = NavContent;\n\nvar HotelArchiveItem = function HotelArchiveItem(props) {\n  _s();\n\n  var hotel = props.hotel;\n  var swiperPrices = React.useRef(null);\n  var stars = [];\n\n  for (var i = 1; i <= parseInt(hotel.stars); i++) {\n    stars.push(__jsx(\"i\", {\n      key: i,\n      className: \"ico ico-star\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 16\n      }\n    }));\n  }\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeTab = _React$useState2[0],\n      setActiveTab = _React$useState2[1];\n\n  var _onActivateTab = function onActivateTab(index) {\n    setActiveTab(index);\n  };\n\n  React.useEffect(function () {\n    swiperPrices.current = new Swiper(\"#swiperPrices-\".concat(hotel.id), {\n      grubCursor: false,\n      simulateTouch: false,\n      direction: 'horizontal',\n      //speed: 600,\n      // slidesPerView: 4,\n      spaceBetween: 0,\n      breakpoints: {\n        1: {\n          slidesPerView: 1\n        },\n        320: {\n          slidesPerView: 4\n        },\n        768: {\n          slidesPerView: 2\n        },\n        992: {\n          slidesPerView: 3\n        },\n        1200: {\n          slidesPerView: 4\n        }\n      },\n      navigation: {\n        nextEl: \"#swiperPrices-\".concat(hotel.id, \"-button-next\"),\n        prevEl: \"#swiperPrices-\".concat(hotel.id, \"-button-prev\")\n      }\n    });\n  }, []); // React.useEffect(() => {\n  //   if( swiperPrices && swiperPrices.current )\n  //     swiperPrices.current.update()\n  // }, [activeTab])\n\n  return __jsx(\"div\", {\n    className: \"hotel-list-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, __jsx(\"a\", {\n    href: \"\".concat(process.env.accommodations_path, \"/\").concat(props.hotel.slug.it),\n    rel: \"nofollow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"topline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"title mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, hotel.name), __jsx(\"div\", {\n    className: \"stars ml-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, stars))), __jsx(\"a\", {\n    href: \"\".concat(process.env.accommodations_path, \"/\").concat(props.hotel.slug.it),\n    rel: \"nofollow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, __jsx(\"figure\", {\n    className: \"img-bgas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: hotel.media && hotel.media.gallery && hotel.media.gallery[0] ? hotel.media.gallery[0].url : 'default',\n    alt: hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }))), __jsx(\"div\", {\n    className: \"prices-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, hotel.rateplanPeriods && hotel.rateplanPeriods.length > 0 && __jsx(React.Fragment, null, __jsx(\"nav\", {\n    style: {\n      width: \"100% !important\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"nav nav-tabs\",\n    id: \"nav-tab-1\",\n    role: \"tablist\",\n    style: {\n      width: \"100% !important\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    id: \"swiperPrices-\".concat(hotel.id),\n    className: \"swiper-container swiperPrices\",\n    style: {\n      width: \"100% !important\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"swiper-wrapper\",\n    style: {\n      width: \"100% !important\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, hotel.rateplanPeriods.map(function (period, index) {\n    return __jsx(NavTab, {\n      key: index,\n      index: index,\n      period: period,\n      hotel: hotel,\n      activeTab: activeTab,\n      onActivateTab: function onActivateTab() {\n        return _onActivateTab(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    });\n  }))), __jsx(\"div\", {\n    id: \"swiperPrices-\".concat(hotel.id, \"-button-prev\"),\n    className: \"swiper-button-prev\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    id: \"swiperPrices-\".concat(hotel.id, \"-button-next\"),\n    className: \"swiper-button-next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"tab-content\",\n    id: \"nav-tabContent-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, hotel.rateplanPeriods.map(function (period, index) {\n    return __jsx(NavContent, {\n      key: index,\n      index: index,\n      hotel: hotel,\n      period: period,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    });\n  }))), !hotel.rateplanPeriods || hotel.rateplanPeriods.length <= 0 && __jsx(\"div\", {\n    style: {\n      height: 70\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, \"POSIZIONE\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }), hotel.details.address, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }), hotel.details.zip_code, \" - \", hotel.details.city, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }), \"\\u2014\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 18\n    }\n  }), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_near.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, __jsx(\"ul\", {\n    className: \"hotel-service-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map(function (obj, index) {\n    return __jsx(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    }, obj.name));\n  }))))), __jsx(\"div\", {\n    className: \"bottomline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"line\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    as: \"\".concat(process.env.accommodations_path, \"/\").concat(props.hotel.slug.it),\n    href: {\n      pathname: \"\".concat(process.env.accommodations_path, \"/[accommodition]\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"goto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, \"Visualizza la struttura\")))))));\n};\n\n_s(HotelArchiveItem, \"nNFmbmf2InXqUIUaEVCpoq8/dBg=\");\n\n_c3 = HotelArchiveItem;\n\nvar HotelPagination = function HotelPagination(props) {\n  _s2();\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      currPage = _React$useState4[0],\n      setCurrPage = _React$useState4[1];\n\n  React.useEffect(function () {\n    if (props.meta) {\n      setCurrPage(parseInt(props.meta.current_page) - 1);\n    }\n  }, []);\n\n  var handlePageClick = function handlePageClick(e) {\n    props.filter.page = e.selected + 1;\n    var stringa = '?';\n\n    for (var i in props.filter) {\n      stringa += \"\".concat(i, \"=\").concat(props.filter[i], \"&\");\n    }\n\n    window.location.href = window.location.pathname + stringa;\n  };\n\n  if (props.meta) {\n    return __jsx(ReactPaginate, {\n      forcePage: currPage,\n      previousLabel: \"<\",\n      nextLabel: \">\",\n      breakLabel: \"...\",\n      breakClassName: \"break-me\",\n      pageCount: props.meta.last_page,\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 5,\n      onPageChange: function onPageChange(e) {\n        return handlePageClick(e);\n      },\n      containerClassName: \"pagination\",\n      subContainerClassName: \"pages pagination\",\n      activeClassName: \"active\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return '';\n};\n\n_s2(HotelPagination, \"9RVj/FYOFrthchRin8fSHhvjE1Q=\");\n\n_c4 = HotelPagination;\n\nvar HotelArchive = function HotelArchive(props) {\n  return __jsx(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }\n  }, props.hotels && props.hotels.length > 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, props.hotels.map(function (hotel, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: \"col-md-6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 15\n      }\n    }, __jsx(HotelArchiveItem, {\n      hotel: hotel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }\n    }));\n  })), __jsx(HotelPagination, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  }))), !props.hotels || props.hotels.length <= 0 && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }, \"Nessun risultato\")));\n};\n\n_c5 = HotelArchive;\nexport default HotelArchive;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"NavTab\");\n$RefreshReg$(_c2, \"NavContent\");\n$RefreshReg$(_c3, \"HotelArchiveItem\");\n$RefreshReg$(_c4, \"HotelPagination\");\n$RefreshReg$(_c5, \"HotelArchive\");","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/components/Partials/HotelArchive2.js"],"names":["React","moment","Link","ReactPaginate","SwiperCore","Swiper","Navigation","Pagination","Scrollbar","A11y","use","PriceTable","NavTab","props","index","dateFrom","period","date_from","dateTo","date_to","hotel","id","activeTab","onActivateTab","format","NavContent","priceList","Object","entries","viewPeriodPrices","roomTypeName","roomTypeContent","key","treatmentObj","n1","n2","n3","n4","n5","n6","n7","map","roomType","treatments","treatment","prices","HotelArchiveItem","swiperPrices","useRef","stars","i","parseInt","push","useState","setActiveTab","useEffect","current","grubCursor","simulateTouch","direction","spaceBetween","breakpoints","slidesPerView","navigation","nextEl","prevEl","process","env","accommodations_path","slug","it","name","media","gallery","url","rateplanPeriods","length","width","height","details","address","zip_code","city","__html","description_near","incServices","obj","pathname","HotelPagination","currPage","setCurrPage","meta","current_page","handlePageClick","e","filter","page","selected","stringa","window","location","href","last_page","HotelArchive","hotels"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport moment from 'moment';\nimport Link from \"next/link\";\nimport ReactPaginate from 'react-paginate';\n\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\n\nimport PriceTable from './PriceTable';\n\n\nconst NavTab = props => {\n  const index = props.index;\n  let dateFrom = moment(props.period.date_from, 'YYYY-MM-DD');\n  let dateTo = moment(props.period.date_to, 'YYYY-MM-DD');\n\n  return (\n    <div key={index} className={`swiper-slide swiper-slide-${props.hotel.id}`}>\n      <a\n        className={`nav-item nav-link ${(index == props.activeTab) ? 'active' : ''}`}\n        id={`nav-${props.hotel.id}-period-${index}-tab`}\n        data-toggle=\"tab\"\n        href={`#nav-${props.hotel.id}-period-${index}`}\n        role=\"tab\"\n        aria-controls={`nav-${props.hotel.id}-period-${index}`}\n        aria-selected=\"true\"\n        onClick={() => props.onActivateTab(index)}\n      >\n        <span>\n          {dateFrom.format('DD/MM')}\n          <br />\n          {dateTo.format('DD/MM')}\n        </span>\n        <i className=\"ico ico-arrow-curved\"></i>\n      </a>\n    </div>\n  )\n}\n\n\n\nconst NavContent = props => {\n  const index = props.index;\n\n  let priceList = {};\n  for (const [roomTypeName, roomTypeContent] of Object.entries(props.period.viewPeriodPrices)){\n    priceList[roomTypeName] = {};\n\n    for (const [key, treatmentObj] of Object.entries(roomTypeContent)) {\n      priceList[roomTypeName][key] = {\n        n1: (treatmentObj.n1) ? treatmentObj.n1 : null,\n        n2: (treatmentObj.n2) ? treatmentObj.n2 : null,\n        n3: (treatmentObj.n3) ? treatmentObj.n3 : null,\n        n4: (treatmentObj.n4) ? treatmentObj.n4 : null,\n        n5: (treatmentObj.n5) ? treatmentObj.n5 : null,\n        n6: (treatmentObj.n6) ? treatmentObj.n6 : null,\n        n7: (treatmentObj.n7) ? treatmentObj.n7 : null,\n      };\n    }\n  }\n\n\n  \n\n  return (\n    <div\n      className={`tab-pane fade ${(index == 0) ? 'show active' : ''}`}\n      id={`nav-${props.hotel.id}-period-${index}`}\n      role=\"tabpanel\"\n      aria-labelledby={`nav-${props.hotel.id}-period-${index}-tab`}\n    >\n      {priceList && Object.entries(priceList).map( ([roomType, treatments], index) => \n        <>\n          <div>{roomType}</div>\n          {treatments && Object.entries(treatments).map( ([treatment, prices], index) => \n            <PriceTable \n              key={index}\n              index={index}\n              treatment={treatment}\n              prices={prices}\n              hotel={props.hotel}\n              period={props.period}\n              priceTableLink={true}\n            />\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n\n\n\nconst HotelArchiveItem = props => {\n  const hotel = props.hotel;\n  const swiperPrices = React.useRef(null)\n  \n  let stars = [];\n  for( let i = 1; i <= parseInt(hotel.stars); i++ ) {\n    stars.push(<i key={i} className=\"ico ico-star\"></i>);\n  }\n\n  const [activeTab, setActiveTab] = React.useState(0)\n\n  const onActivateTab = (index) => {\n    setActiveTab(index)\n  }\n\n  React.useEffect(() => {\n    swiperPrices.current = new Swiper(`#swiperPrices-${hotel.id}`, {\n      grubCursor: false,\n      simulateTouch : false,\n      direction: 'horizontal',\n      //speed: 600,\n      // slidesPerView: 4,\n      spaceBetween: 0,\n      breakpoints: {\n        1: {\n          slidesPerView: 1\n        },\n        320: {\n          slidesPerView: 4\n        },\n        768: {\n          slidesPerView: 2\n        },\n        992: {\n          slidesPerView: 3\n        },\n        1200: {\n          slidesPerView: 4\n        }\n      },\n      navigation: {\n        nextEl: `#swiperPrices-${hotel.id}-button-next`,\n        prevEl: `#swiperPrices-${hotel.id}-button-prev`,\n      }\n    })\n  }, [])\n\n\n  // React.useEffect(() => {\n  //   if( swiperPrices && swiperPrices.current )\n  //     swiperPrices.current.update()\n  // }, [activeTab])\n\n  \n  return (\n    <div className=\"hotel-list-item\">\n      <a href={`${process.env.accommodations_path}/${props.hotel.slug.it}`} rel=\"nofollow\">\n        <div className=\"topline\">\n          <div className=\"title mr-auto\">\n            {hotel.name}\n          </div>\n          <div className=\"stars ml-auto\">\n            {stars}\n          </div>\n        </div>\n      </a>\n      <a href={`${process.env.accommodations_path}/${props.hotel.slug.it}`} rel=\"nofollow\">\n        <figure className=\"img-bgas\">\n          <img\n            src={(hotel.media && hotel.media.gallery && hotel.media.gallery[0]) ? hotel.media.gallery[0].url : 'default'}\n            alt={hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name} \n          />\n        </figure>\n      </a>\n      <div className=\"prices-box\">\n        {hotel.rateplanPeriods && hotel.rateplanPeriods.length > 0 &&\n        <>\n        <nav style={{width: \"100% !important\"}}>\n          <div className=\"nav nav-tabs\" id=\"nav-tab-1\" role=\"tablist\" style={{width: \"100% !important\"}}>\n            <div id={`swiperPrices-${hotel.id}`} className=\"swiper-container swiperPrices\" style={{width: \"100% !important\"}}>\n              <div className=\"swiper-wrapper\" style={{width: \"100% !important\"}}>\n                {hotel.rateplanPeriods.map((period, index) => \n                  <NavTab \n                    key={index}\n                    index={index}\n                    period={period}\n                    hotel={hotel}\n                    activeTab={activeTab}\n                    onActivateTab={() => onActivateTab(index)}\n                  />\n                )}\n              </div>\n            </div>\n            <div id={`swiperPrices-${hotel.id}-button-prev`} className=\"swiper-button-prev\"></div>\n            <div id={`swiperPrices-${hotel.id}-button-next`} className=\"swiper-button-next\"></div>\n          </div>\n        </nav>\n        <div className=\"tab-content\" id=\"nav-tabContent-1\">\n          {hotel.rateplanPeriods.map((period, index) => \n            <NavContent \n              key={index}\n              index={index}\n              hotel={hotel}\n              period={period}\n              />\n          )}\n        </div>\n        </>\n        }\n        {!hotel.rateplanPeriods || hotel.rateplanPeriods.length <= 0 &&\n        <div style={{height: 70}}></div>\n        }\n        <div className=\"details\">\n          <div className=\"row\">\n            <div className=\"col-4\">\n              <div className=\"description\">\n                <span className=\"bold\">POSIZIONE</span>\n                <br />\n                {hotel.details.address}\n                <br />\n                {hotel.details.zip_code} - {hotel.details.city}\n                <br />\n                —<br />\n                <div dangerouslySetInnerHTML={{ __html: hotel.description_near.it }} />\n              </div>\n            </div>\n            <div className=\"col-8\">\n              <ul className=\"hotel-service-list\">\n                {hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map( (obj, index) => \n                <li key={index}>\n                  <span>\n                    {/* ico */}\n                    {/* <i className=\"ico ico-childrens\"></i> */}\n                    {obj.name}\n                  </span>\n                </li>\n                )}\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"bottomline\">\n          <div className=\"row\">\n            <div className=\"col-8\">\n              <div className=\"line\"></div>\n            </div>\n            <div className=\"col-4\">\n              <Link \n                as={`${process.env.accommodations_path}/${props.hotel.slug.it}`} \n                href={{pathname: `${process.env.accommodations_path}/[accommodition]`}}\n              >\n                <a className=\"goto\">\n                  Visualizza la struttura\n                </a>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nconst HotelPagination = props => {\n  const [currPage, setCurrPage] = React.useState(0);\n\n  React.useEffect(() => {\n    if(props.meta){\n      setCurrPage(parseInt(props.meta.current_page) - 1)\n    }\n  },[]);\n\n  const handlePageClick = (e) => {\n    props.filter.page = e.selected + 1;\n\n    let stringa = '?';\n    for( let i in props.filter )\n      stringa += `${i}=${props.filter[i]}&`;\n\n    window.location.href = window.location.pathname + stringa;\n  };\n\n  if(props.meta){\n    return(\n      <ReactPaginate\n        forcePage={currPage}\n        previousLabel={\"<\"}\n        nextLabel={\">\"}\n        breakLabel={\"...\"}\n        breakClassName={\"break-me\"}\n        pageCount={props.meta.last_page}\n        marginPagesDisplayed={2}\n        pageRangeDisplayed={5}\n        onPageChange={(e) => handlePageClick(e)}\n        containerClassName={\"pagination\"}\n        subContainerClassName={\"pages pagination\"}\n        activeClassName={\"active\"}\n      />\n    )\n  }\n  return ''\n}\n\n\nconst HotelArchive = props => {\n  return (\n    <section>\n      <div className=\"container\">\n        {props.hotels && props.hotels.length > 0 &&\n          <>\n            <div className=\"row\">\n              {props.hotels.map( (hotel, index) => \n              <div key={index} className=\"col-md-6\">\n                <HotelArchiveItem hotel={hotel} />\n              </div>\n              )}\n            </div>\n            <HotelPagination {...props} />\n          </>\n        }\n        {!props.hotels || props.hotels.length <= 0 &&\n          <div>Nessun risultato</div>\n        }\n      </div>\n    </section>\n  );\n};\n\nexport default HotelArchive;"]},"metadata":{},"sourceType":"module"}