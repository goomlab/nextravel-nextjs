{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport Link from \"next/link\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\";\nimport PageFilterService from \"~/packages/TravelgoOne/services/PageFilterService\";\nimport RatePlanPeriodService from \"~/packages/TravelgoOne/services/RatePlanPeriodService\";\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\n\nconst SitemapHotels = props => {\n  return __jsx(\"div\", {\n    className: \"row mb-5\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"h2\", null, \"Strutture ricettive\")), props.models.map((model, index) => __jsx(\"div\", {\n    className: \"col-sm-6 col-lg-4 footer-menu-col\",\n    key: index\n  }, __jsx(Link, {\n    as: `${process.env.accommodations_path}/${model.slug.it}`,\n    href: {\n      pathname: `${process.env.accommodations_path}/${model.slug.it}`\n    }\n  }, __jsx(\"a\", {\n    className: \"goto\"\n  }, model.title.it)))));\n};\n\nconst SitemapFilterPages = props => {\n  return __jsx(\"div\", {\n    className: \"row mb-5\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"h2\", null, \"Offerte\")), props.models.map((model, index) => __jsx(\"div\", {\n    className: \"col-sm-6 col-lg-4 footer-menu-col\",\n    key: index\n  }, __jsx(Link, {\n    as: `/offerte/${model.slug.it}`,\n    href: {\n      pathname: `/offerte/${model.slug.it}`\n    }\n  }, __jsx(\"a\", {\n    className: \"goto\"\n  }, model.title.it)))));\n};\n\nconst SitemapPages = props => {\n  return __jsx(\"div\", {\n    className: \"row mb-5\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"h2\", null, \"Pagine\")), props.models.map((model, index) => __jsx(\"div\", {\n    className: \"col-sm-6 col-lg-4 footer-menu-col\",\n    key: index\n  }, __jsx(Link, {\n    as: `/${model.slug.it}`,\n    href: {\n      pathname: `/${model.slug.it}`\n    }\n  }, __jsx(\"a\", {\n    className: \"goto\"\n  }, model.title.it)))));\n};\n\nconst SitemapHtml = props => {\n  console.log('props', props);\n  return __jsx(Layout, {\n    settings: {\n      template: \"sitemap-page\",\n      menu: props.menu\n    },\n    meta: {\n      title: \"Mappa del sito\",\n      description: \"Mappa del sito\",\n      url: `${process.env.meta.url}/sitemap-html`,\n      image: null\n    }\n  }, __jsx(BookingSearchBox, {\n    query: props.query\n  }), __jsx(\"section\", {\n    className: \"section-main single-hotel-section\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"h1\", {\n    className: \"mb-5\"\n  }, \"Sitemap\"), __jsx(SitemapHotels, {\n    models: props.hotels || []\n  }), __jsx(SitemapFilterPages, {\n    models: props.pagefilters || []\n  }), __jsx(SitemapPages, {\n    models: props.pages || []\n  }))));\n};\n\nSitemapHtml.getInitialProps = async ctx => {\n  let menu = null;\n  let pages = [];\n  let hotels = [];\n  let pagefilters = [];\n  let rateplanperiods = [];\n\n  try {\n    let menuService = new MenuService();\n    menu = await menuService.get(1);\n    let postService = new PostService();\n    pages = (await postService.all({\n      stauts: {\n        key: 'status',\n        compare: '=',\n        value: 1\n      },\n      order: ['name', 'asc']\n    })) || [];\n    let hotelService = new HotelService();\n    hotels = (await hotelService.all({\n      status: {\n        key: 'status',\n        compare: '=',\n        value: 1\n      },\n      order: ['name', 'asc']\n    })) || [];\n    let pagefilterService = new PageFilterService();\n    pagefilters = (await pagefilterService.all({\n      stauts: {\n        key: 'status',\n        compare: '=',\n        value: 1\n      }\n    })) || []; // let rateplanperiodService = new RatePlanPeriodService();\n    // rateplanperiods = await rateplanperiodService.all({\n    //   stauts: {key: 'status', compare: '=', value: 1}\n    // }) || [];\n  } catch (e) {\n    console.log('error', e);\n  }\n\n  return {\n    params: ctx.params,\n    query: ctx.query,\n    menu,\n    pages,\n    hotels,\n    pagefilters,\n    rateplanperiods\n  };\n};\n\nexport default SitemapHtml; // const mapStateToProps = (state) => {\n// \treturn {\n//     hotelLoading: state.hotel.loading,\n//     hotelSeatchParams: state.hotel.params,\n// \t\thotels: state.hotel.items,\n//     hotelMeta: state.hotel.meta,\n// \t}\n// }\n// const mapDispatchToProps = (dispatch) => {\n//   let hotelAction = new HotelAction()\n//   return {\n//     loading: (state) => {\n//       dispatch(hotelAction.loading(state))\n//     },\n//     query: (data) => {\n//       dispatch(hotelAction.query(data))\n//     },\n//   }\n// }\n// export default connect(mapStateToProps, mapDispatchToProps)(SitemapHtml);","map":null,"metadata":{},"sourceType":"module"}