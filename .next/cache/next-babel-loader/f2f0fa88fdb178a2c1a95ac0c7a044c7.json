{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/components/Partials/BookingForm.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport moment from 'moment';\nimport MyDateRangePicker from '../MyDateRangePicker';\n\nconst BookingForm = props => {\n  const [state, setState] = React.useState({\n    hotel_id: null,\n    customer: {\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      mobile: \"\"\n    },\n    message: \"\",\n    privacy: 0,\n    checkin: props.query.startDate || null,\n    checkout: props.query.endDate || null,\n    treatment: null,\n    numRooms: 1,\n    rooms: [{\n      adults: 2,\n      childrens: 0,\n      childrenAges: []\n    }],\n    transfer_id: null\n  }); // const [focus, setFocus] = React.useState([]);\n  // const onFocus = (e) => {\n  //   e.persist();console.log(e);\n  //   if( !focus || e.target.value != \"\" )\n  //     e.target.parentElement.classList.add('focus');\n  //   else\n  //     e.target.parentElement.classList.remove('focus');\n  //   setFocus(!focus);\n  // }\n\n  const onChange = e => {\n    e.persist();\n    let newState = Object.assign({}, state);\n\n    switch (e.target.name) {\n      case 'privacy':\n        newState[e.target.name] = e.target.checked ? 1 : 0;\n        break;\n\n      case 'first_name':\n      case 'last_name':\n      case 'email':\n      case 'mobile':\n        newState.customer[e.target.name] = e.target.value;\n        break;\n\n      default:\n        newState[e.target.name] = e.target.value;\n        break;\n    }\n\n    setState(newState);\n  };\n\n  const onChangeDatePicker = (startDate, endDate) => {\n    let newState = Object.assign({}, state);\n    newState.checkin = startDate.format('YYYY-MM-DD');\n    newState.checkout = endDate.format('YYYY-MM-DD');\n    setState(newState);\n  };\n  /**\n   * Room\n   */\n\n\n  const onAddRoom = () => {\n    let newState = Object.assign({}, state);\n    newState.rooms.push({\n      adults: 2,\n      childrens: 0,\n      childrenAges: []\n    });\n    setState(newState);\n  };\n\n  const onDeleteRoom = index => {\n    let newState = Object.assign({}, state);\n    newState.rooms.splice(index, 1);\n    setState(newState);\n  };\n\n  const onAddRoomChildren = (e, index) => {\n    let newState = Object.assign({}, state);\n    newState.rooms[index].childrenAges.push(e.target.value);\n    newState.rooms[index].childrenAges.sort();\n    setState(newState);\n  };\n\n  const onChangeRoom = (e, index) => {\n    e.persist();\n    let newState = Object.assign({}, state);\n\n    switch (e.currentTarget.dataset.name) {\n      case \"childrens\":\n        if (parseInt(e.currentTarget.value) == 0) {\n          // reset childrenAges\n          newState.rooms[index].childrenAges = [];\n        } else if (newState.rooms[index].childrens > parseInt(e.currentTarget.value)) {\n          // rimuovo gli utlimi elementi\n          newState.rooms[index].childrenAges.splice(e.currentTarget.value);\n        } else {\n          // aggiungo age con valore 0\n          for (let j = newState.rooms[index].childrens; j < parseInt(e.currentTarget.value); j++) newState.rooms[index].childrenAges.push(-1);\n        }\n\n        newState.rooms[index].childrens = e.currentTarget.value;\n        break;\n\n      case \"ageChildrens\":\n        let indexChild = e.currentTarget.dataset.index;\n        newState.rooms[index].childrenAges[indexChild] = e.currentTarget.value;\n        newState.rooms[index].childrenAges.sort(function (a, b) {\n          return b - a;\n        }); // sort desc\n\n        break;\n\n      default:\n        newState.rooms[index][e.currentTarget.dataset.name] = e.currentTarget.value;\n        break;\n    }\n\n    setState(newState);\n  };\n\n  const renderRooms = () => {\n    let _html = [];\n\n    for (let i in state.rooms) {\n      // adults\n      var _htmlAdultOptions = [];\n\n      _htmlAdultOptions.push(__jsx(\"option\", {\n        key: 0,\n        value: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 30\n        }\n      }, \"Adulti\"));\n\n      for (var j = 1; j <= 4; j++) {\n        _htmlAdultOptions.push(__jsx(\"option\", {\n          key: j,\n          value: j,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }\n        }, j));\n      } // childrens\n\n\n      var _htmlChildrenOptions = [];\n\n      _htmlChildrenOptions.push(__jsx(\"option\", {\n        key: 0,\n        value: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 33\n        }\n      }, \"Bambini\"));\n\n      for (var j = 1; j <= 4; j++) {\n        _htmlChildrenOptions.push(__jsx(\"option\", {\n          key: j,\n          value: j,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 11\n          }\n        }, j));\n      } // children ages\n\n\n      var _ageOptions = [];\n\n      _ageOptions.push(__jsx(\"option\", {\n        key: -1,\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 24\n        }\n      }, \"Et\\xE0\"));\n\n      for (var j = 0; j <= 12; j++) {\n        _ageOptions.push(__jsx(\"option\", {\n          key: j,\n          value: j,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 11\n          }\n        }, j));\n      }\n\n      let _htmlChildrenAges = [];\n\n      for (let j in state.rooms[i].childrenAges) {\n        _htmlChildrenAges.push(__jsx(\"div\", {\n          key: j,\n          className: \"col-lg-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }\n        }, __jsx(\"div\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }\n        }, __jsx(\"select\", {\n          className: \"custom-select\",\n          name: \"childrens_age[]\",\n          \"data-name\": \"ageChildrens\",\n          \"data-index\": j,\n          value: state.rooms[i].childrenAges[j] || 0,\n          onChange: e => onChangeRoom(e, i),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }\n        }, _ageOptions))));\n      }\n\n      _html.push(__jsx(\"div\", {\n        key: i,\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"col-lg-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }, i == 0 && __jsx(\"button\", {\n        type: \"button\",\n        className: \"btn btn-green\",\n        onClick: () => onAddRoom(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }\n      }, \"+ Camera\"), i > 0 && __jsx(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, \"camera \", __jsx(\"span\", {\n        className: \"room-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 31\n        }\n      }, parseInt(i) + 1)), \"\\xA0\\xA0\", __jsx(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger btn-sm roomBox_buttonDelete\",\n        onClick: () => onDeleteRoom(i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }, __jsx(\"i\", {\n        className: \"fas fa-times\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }\n      }))))), __jsx(\"div\", {\n        className: \"col-lg-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }, __jsx(\"select\", {\n        className: \"custom-select\",\n        id: `adults_${i}`,\n        name: \"adults[]\",\n        \"data-name\": \"adults\",\n        value: state.rooms[i].adults || 0,\n        onChange: e => onChangeRoom(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      }, \"$\", _htmlAdultOptions))), __jsx(\"div\", {\n        className: \"col-lg-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }\n      }, __jsx(\"select\", {\n        className: \"custom-select\",\n        id: `childrens_${i}`,\n        name: \"childrens[]\",\n        \"data-name\": \"childrens\",\n        value: state.rooms[i].childrens || 0,\n        onChange: e => onChangeRoom(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }\n      }, \"$\", _htmlChildrenOptions))), __jsx(\"div\", {\n        className: \"col-lg-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"row table_childrenAges\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }\n      }, _htmlChildrenAges))));\n    }\n\n    return _html;\n  };\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"box2 form-template-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, __jsx(MyDateRangePicker, {\n    startDate: props.query.checkin,\n    endDate: props.query.checkout,\n    onChange: (startDate, endDate) => onChangeDatePicker(startDate, endDate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, __jsx(\"select\", {\n    className: \"custom-select\",\n    name: \"treatment\",\n    id: \"treatment\",\n    value: state.treatment || '',\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, \"Trattamento\"), __jsx(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, \"Transfer 1\"), __jsx(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, \"Transfer 2\"), __jsx(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 17\n    }\n  }, \"Transfer 3\")))), __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, __jsx(\"select\", {\n    className: \"custom-select\",\n    name: \"transfer_id\",\n    id: \"tranfer_id\",\n    value: state.transfer_id || '',\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }, \"Transfer\"), __jsx(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }, \"Transfer 1\"), __jsx(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }\n  }, \"Transfer 2\"), __jsx(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, \"Transfer 3\"))))), __jsx(\"div\", {\n    className: \"room-box\",\n    id: \"roomBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }\n  }, renderRooms())), __jsx(\"div\", {\n    className: \"box3 form-template-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 15\n    }\n  }, \"Richiedi il tuo preventivo gratuitamente\"))), __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"first_name\",\n    name: \"first_name\",\n    placeholder: \"Nome\",\n    value: state.customer.first_name || \"\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"last_name\",\n    name: \"last_name\",\n    placeholder: \"Cognome\",\n    value: state.customer.last_name || \"\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    defaultValue: state.customer.email || \"\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"mobile\",\n    name: \"mobile\",\n    placeholder: \"Cellulare\",\n    defaultValue: state.customer.mobile || \"\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 15\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }\n  }, __jsx(\"textarea\", {\n    className: \"form-control\",\n    id: \"message\",\n    name: \"message\",\n    placeholder: \"Messaggio\",\n    value: state.message || \"\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"custom-control custom-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 15\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"custom-control-input\",\n    name: \"privacy\",\n    id: \"privacy\",\n    value: state.privacy || 0,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 17\n    }\n  }), __jsx(\"label\", {\n    className: \"custom-control-label\",\n    htmlFor: \"privacy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 17\n    }\n  }, \"Acconsento al trattamento dei miei dati ai sensi dell\\u2019informativa sulla \", __jsx(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 147\n    }\n  }, \"Privacy\"), \".\"))), __jsx(\"div\", {\n    className: \"form-group text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 17\n    }\n  }, \"richiedi disponibilit\\xE0\"))))));\n};\n\nexport default BookingForm;","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/components/Partials/BookingForm.js"],"names":["React","moment","MyDateRangePicker","BookingForm","props","state","setState","useState","hotel_id","customer","first_name","last_name","email","mobile","message","privacy","checkin","query","startDate","checkout","endDate","treatment","numRooms","rooms","adults","childrens","childrenAges","transfer_id","onChange","e","persist","newState","Object","assign","target","name","checked","value","onChangeDatePicker","format","onAddRoom","push","onDeleteRoom","index","splice","onAddRoomChildren","sort","onChangeRoom","currentTarget","dataset","parseInt","j","indexChild","a","b","renderRooms","_html","i","_htmlAdultOptions","_htmlChildrenOptions","_ageOptions","_htmlChildrenAges"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\n\nimport MyDateRangePicker from '../MyDateRangePicker';\n\nconst BookingForm = props => {\n\n  const [state, setState] = React.useState({\n    hotel_id: null,\n    customer: {\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      mobile: \"\",\n    },\n    message: \"\",\n    privacy: 0,\n    checkin: props.query.startDate || null,\n    checkout: props.query.endDate ||null,\n    treatment: null,\n    numRooms: 1,\n    rooms: [\n      {\n        adults: 2,\n        childrens: 0,\n        childrenAges: []\n      }\n    ],\n    transfer_id: null\n  });\n\n  // const [focus, setFocus] = React.useState([]);\n\n  // const onFocus = (e) => {\n  //   e.persist();console.log(e);\n  //   if( !focus || e.target.value != \"\" )\n  //     e.target.parentElement.classList.add('focus');\n  //   else\n  //     e.target.parentElement.classList.remove('focus');\n  //   setFocus(!focus);\n  // }\n\n  const onChange = (e) => {\n    e.persist();\n    let newState = Object.assign({},state);\n    switch( e.target.name ){\n      case 'privacy': \n        newState[e.target.name] = (e.target.checked) ? 1 : 0;\n      break;\n      case 'first_name':\n      case 'last_name':\n      case 'email':\n      case 'mobile':\n        newState.customer[e.target.name] = e.target.value;\n      break;\n      default: newState[e.target.name] = e.target.value; break;\n    }\n    setState(newState);\n  }\n\n  const onChangeDatePicker = (startDate, endDate) => {\n    let newState = Object.assign({},state);\n    newState.checkin = startDate.format('YYYY-MM-DD');\n    newState.checkout = endDate.format('YYYY-MM-DD');\n    setState(newState);\n  }\n\n  /**\n   * Room\n   */\n  const onAddRoom = () => {\n    let newState = Object.assign({}, state);\n    newState.rooms.push({\n      adults: 2,\n      childrens: 0,\n      childrenAges: []\n    });\n    setState(newState);\n  }\n\n  const onDeleteRoom = (index) => {\n    let newState = Object.assign({}, state);\n    newState.rooms.splice(index, 1);\n    setState(newState);\n  }\n\n  const onAddRoomChildren = (e, index) => {\n    let newState = Object.assign({}, state);\n    newState.rooms[index].childrenAges.push(e.target.value);\n    newState.rooms[index].childrenAges.sort();\n    setState(newState);\n  }\n  \n  const onChangeRoom = (e, index) => {\n    e.persist();\n    let newState = Object.assign({}, state);\n    switch( e.currentTarget.dataset.name ) {\n      case \"childrens\":\n        if( parseInt(e.currentTarget.value) == 0 ){\n          // reset childrenAges\n          newState.rooms[index].childrenAges = [];\n        }\n        else if(newState.rooms[index].childrens > parseInt(e.currentTarget.value) ){\n          // rimuovo gli utlimi elementi\n          newState.rooms[index].childrenAges.splice(e.currentTarget.value);\n        }\n        else {\n          // aggiungo age con valore 0\n          for(let j = newState.rooms[index].childrens; j < parseInt(e.currentTarget.value); j++)\n            newState.rooms[index].childrenAges.push(-1);\n        }\n        newState.rooms[index].childrens = e.currentTarget.value;\n      break;\n      case \"ageChildrens\":\n        let indexChild = e.currentTarget.dataset.index;\n        newState.rooms[index].childrenAges[indexChild] = e.currentTarget.value;\n        newState.rooms[index].childrenAges.sort(function(a, b){return b-a}); // sort desc\n      break;\n      default: \n        newState.rooms[index][e.currentTarget.dataset.name] = e.currentTarget.value;  \n      break;\n    }\n    setState(newState);\n  }\n\n  const renderRooms = () => {\n    let _html = [];\n\n    for( let i in state.rooms ){\n      // adults\n      var _htmlAdultOptions = [];\n      _htmlAdultOptions.push(<option key={0} value=\"0\">Adulti</option>);\n      for( var j = 1; j <= 4; j++ ) {\n        _htmlAdultOptions.push(\n          <option key={j} value={j}>{j}</option>\n        );\n      }\n\n      // childrens\n      var _htmlChildrenOptions = [];\n      _htmlChildrenOptions.push(<option key={0} value=\"0\">Bambini</option>);\n      for( var j = 1; j <= 4; j++ ) {\n        _htmlChildrenOptions.push(\n          <option key={j} value={j}>{j}</option>\n        );\n      }\n\n      // children ages\n      var _ageOptions = [];\n      _ageOptions.push(<option key={-1} value=\"\">Età</option>);\n      for( var j = 0; j <= 12; j++) {\n        _ageOptions.push(\n          <option key={j} value={j}>{j}</option>\n        );\n      }\n\n      let _htmlChildrenAges = [];\n      for( let j in state.rooms[i].childrenAges ) {\n        _htmlChildrenAges.push(\n          <div key={j} className=\"col-lg-3\">\n            <div className=\"form-group\">\n              <select \n                className=\"custom-select\"\n                name=\"childrens_age[]\"\n                data-name=\"ageChildrens\"\n                data-index={j}\n                value={state.rooms[i].childrenAges[j] || 0}\n                onChange={(e)=>onChangeRoom(e,i)}\n              >\n                {_ageOptions}\n              </select>\n            </div>\n          </div>\n        );\n      }\n\n      _html.push(\n      <div key={i} className=\"row\">\n        <div className=\"col-lg-3\">\n          <div className=\"form-group\">\n            {i == 0 &&\n              <button \n                type=\"button\"\n                className=\"btn btn-green\"\n                onClick={()=>onAddRoom()}\n                >\n                  + Camera\n                </button>\n            }\n            {i > 0 &&\n              <React.Fragment>\n                <label>camera <span className=\"room-number\">{parseInt(i)+1}</span></label>\n                &nbsp;&nbsp;\n                <button \n                  type=\"button\"\n                  className=\"btn btn-danger btn-sm roomBox_buttonDelete\"\n                  onClick={()=>onDeleteRoom(i)}\n                >\n                <i className=\"fas fa-times\"></i>\n                </button>\n              </React.Fragment>\n            }\n          </div>\n        </div>\n        <div className=\"col-lg-2\">\n          <div className=\"form-group\">\n            <select \n            className=\"custom-select\" \n            id={`adults_${i}`} \n            name=\"adults[]\"\n            data-name=\"adults\"\n            value={state.rooms[i].adults || 0}\n            onChange={(e)=>onChangeRoom(e, i)}\n            >\n              ${_htmlAdultOptions}\n            </select>\n          </div>\n        </div>\n        <div className=\"col-lg-2\">\n          <div className=\"form-group\">\n            <select \n              className=\"custom-select\" \n              id={`childrens_${i}`} \n              name=\"childrens[]\"\n              data-name=\"childrens\"\n              value={state.rooms[i].childrens || 0}\n              onChange={(e)=>onChangeRoom(e, i)} \n            >\n              ${_htmlChildrenOptions}\n            </select>\n          </div>\n        </div>\n        <div className=\"col-lg-4\">\n          <div className=\"row table_childrenAges\">\n            {_htmlChildrenAges}\n          </div>\n        </div>\n      </div>\n      );\n    }\n\n    return _html;\n  }\n\n  return(\n    <React.Fragment>\n      <div className=\"box2 form-template-1\">\n        <div className=\"row\">\n          <div className=\"col-lg-3\">\n            <div className=\"form-group\">\n              <MyDateRangePicker \n                startDate={props.query.checkin}\n                endDate={props.query.checkout}\n                onChange={(startDate, endDate)=>onChangeDatePicker(startDate, endDate)}\n                />\n            </div>\n          </div>\n          <div className=\"col-lg-3\">\n            <div className=\"form-group\">\n              <select\n                className=\"custom-select\"\n                name=\"treatment\"\n                id=\"treatment\"\n                value={state.treatment || ''}\n                onChange={(e) => onChange(e)}\n                >\n                <option value=\"\">Trattamento</option>\n                <option value=\"1\">Transfer 1</option>\n                <option value=\"2\">Transfer 2</option>\n                <option value=\"3\">Transfer 3</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"col-lg-3\">\n            <div className=\"form-group\">\n              <select\n                className=\"custom-select\"\n                name=\"transfer_id\"\n                id=\"tranfer_id\"\n                value={state.transfer_id || ''}\n                onChange={(e) => onChange(e)}\n                >\n                <option value=\"\">Transfer</option>\n                <option value=\"1\">Transfer 1</option>\n                <option value=\"2\">Transfer 2</option>\n                <option value=\"3\">Transfer 3</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"room-box\" id=\"roomBox\">\n          {renderRooms()}\n        </div>\n      </div>\n      <div className=\"box3 form-template-2\">\n        <div className=\"row\">\n          <div className=\"col-lg-3\">\n            <div className=\"form-group\">\n              <div className=\"title\">Richiedi il tuo preventivo gratuitamente</div>\n            </div>\n          </div>\n          <div className=\"col-lg-4\">\n            <div className=\"form-group\">\n              <input \n                type=\"text\"\n                className=\"form-control\"\n                id=\"first_name\"\n                name=\"first_name\"\n                placeholder=\"Nome\"\n                value={state.customer.first_name || \"\"}\n                onChange={(e)=>onChange(e)}\n                /> \n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"last_name\"\n                name=\"last_name\"\n                placeholder=\"Cognome\"\n                value={state.customer.last_name || \"\"}\n                onChange={(e)=>onChange(e)}\n                /> \n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                defaultValue={state.customer.email || \"\"}\n                onChange={(e)=>onChange(e)}\n                /> \n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"mobile\"\n                name=\"mobile\"\n                placeholder=\"Cellulare\"\n                defaultValue={state.customer.mobile || \"\"}\n                onChange={(e)=>onChange(e)}\n                /> \n            </div>\n          </div>\n          <div className=\"col-lg-5\">\n            <div className=\"form-group\">\n              <textarea\n                className=\"form-control\"\n                id=\"message\"\n                name=\"message\"\n                placeholder=\"Messaggio\"\n                value={state.message || \"\"}\n                onChange={(e)=>onChange(e)}\n                >\n              </textarea> \n            </div>\n            <div className=\"form-group\">\n              <div className=\"custom-control custom-checkbox\">\n                <input\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  name=\"privacy\"\n                  id=\"privacy\" \n                  value={state.privacy || 0}\n                  onChange={(e)=>onChange(e)}\n                  />\n                <label className=\"custom-control-label\" htmlFor=\"privacy\">Acconsento al trattamento dei miei dati ai sensi dell’informativa sulla <a href=\"#\">Privacy</a>.</label>\n              </div>\n            </div>\n            <div className=\"form-group text-right\">\n                <button type=\"submit\" className=\"btn-submit\">richiedi disponibilità</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default BookingForm;"]},"metadata":{},"sourceType":"module"}