{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/accommodations/[accommodation].js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\"; // import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\n\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\n\nconst HotelPage = props => {\n  if (!props.page || props.page.length <= 0) {\n    return __jsx(Layout, {\n      settings: {\n        menu: props.menu\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }\n    }, \"Data not found\"));\n  }\n\n  const hotel = props.page;\n  let stars = [];\n\n  for (let i = 1; i <= parseInt(hotel.stars); i++) {\n    stars.push(__jsx(\"i\", {\n      key: i,\n      className: \"ico ico-star\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 16\n      }\n    }));\n  }\n\n  return __jsx(Layout, {\n    settings: {\n      template: \"accommodation-page\",\n      menu: props.menu\n    },\n    meta: {\n      title: props.page.meta_title.it,\n      description: props.page.meta_description.it,\n      url: `${process.env.meta.url}/accommodations/${props.page.slug.it}`,\n      image: props.page.media && props.page.media.gallery && props.page.media.gallery[0] ? props.page.media.gallery[0].url : null // image: (props.page.media && props.page.media.thumbnails && props.page.media.thumbnails[0]) ? props.page.media.thumbnails[0].url : null\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(BookingSearchBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: \"single-hotel-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(\"figure\", {\n    className: \"img-bgas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: hotel.media && hotel.media.gallery && hotel.media.gallery[0] ? hotel.media.gallery[0].url : 'default',\n    alt: hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"topline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"title mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, hotel.name), __jsx(\"div\", {\n    className: \"stars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, stars)), __jsx(\"div\", {\n    className: \"single-hotel-call ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"chiama!\\xA0\", __jsx(\"span\", {\n    className: \"bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 28\n    }\n  }, process.env.contacts.phone.label))))), __jsx(\"section\", {\n    className: \"section-main only-padding-bottom single-hotel-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"posizione\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, hotel.details.address, __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 42\n    }\n  }), hotel.details.zip_code, \" \", hotel.details.city, \" (\", hotel.details.state, \")\"), __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"distanze\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_near.it\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  })), __jsx(\"ul\", {\n    className: \"hotel-service-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map((obj, index) => __jsx(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }, obj.name))))), __jsx(\"div\", {\n    className: \"content-box content-box-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_short.it\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description.it\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: \"col-lg-7 offset-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, console.log('hotel', hotel), __jsx(PeriodArchive, {\n    hotel: hotel,\n    periods: props.periods,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nHotelPage.getInitialProps = async params => {\n  let menu = null;\n  let locs = [];\n  let hotelCategories = [];\n  let page = null;\n  let periods = [];\n\n  try {\n    let baseService = new BaseService();\n    let init = await baseService.initApp();\n    locs = init.locs || [];\n    hotelCategories = init.hotelCategories || [];\n    let menuService = new MenuService();\n    menu = await menuService.get(1);\n    let hotelService = new HotelService();\n    page = await hotelService.getBySlug(params.query.accommodation);\n\n    if (page && page.id > 0) {\n      let rateplanPeriodService = new RateplanPeriodService();\n      periods = await rateplanPeriodService.query({\n        hotel_id: page.id\n      });\n    }\n  } catch (e) {}\n\n  return {\n    locs,\n    hotelCategories,\n    menu,\n    page,\n    periods\n  };\n};\n\nexport default HotelPage;","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/accommodations/[accommodation].js"],"names":["React","Link","BaseService","MenuService","PostService","HotelService","RateplanPeriodService","Layout","BookingSearchBox","PeriodArchive","HotelPage","props","page","length","menu","hotel","stars","i","parseInt","push","template","title","meta_title","it","description","meta_description","url","process","env","meta","slug","image","media","gallery","name","contacts","phone","label","details","address","zip_code","city","state","__html","description_near","incServices","map","obj","index","description_short","console","log","periods","getInitialProps","params","locs","hotelCategories","baseService","init","initApp","menuService","get","hotelService","getBySlug","query","accommodation","id","rateplanPeriodService","hotel_id","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\n\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\";\n// import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\n\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\n\nconst HotelPage = props => {\n  if (!props.page || props.page.length <= 0) {\n    return (\n      <Layout settings={{ menu: props.menu }}>\n        <div>Data not found</div>\n      </Layout>\n    );\n  }\n\n  const hotel = props.page;\n  \n  let stars = [];\n  for( let i = 1; i <= parseInt(hotel.stars); i++ ) {\n    stars.push(<i key={i} className=\"ico ico-star\"></i>);\n  }\n\n  return (\n    <Layout \n      settings={{template:\"accommodation-page\", menu: props.menu}}\n      meta={{\n        title: props.page.meta_title.it,\n        description: props.page.meta_description.it,\n        url: `${process.env.meta.url}/accommodations/${props.page.slug.it}`,\n        image: (props.page.media && props.page.media.gallery && props.page.media.gallery[0]) ? props.page.media.gallery[0].url : null\n        // image: (props.page.media && props.page.media.thumbnails && props.page.media.thumbnails[0]) ? props.page.media.thumbnails[0].url : null\n      }}\n      >\n      <BookingSearchBox />\n\n      <section className=\"single-hotel-section\">\n        <div className=\"container\">\n          <figure className=\"img-bgas\">\n            <img\n              src={(hotel.media && hotel.media.gallery && hotel.media.gallery[0]) ? hotel.media.gallery[0].url : 'default'}\n              alt={hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name} \n              />\n          </figure>\n\n          <div className=\"topline\">\n            <div className=\"title mr-auto\">\n              <h1>\n                {/* Hotel&nbsp;<strong>Sorriso</strong> */}\n                {hotel.name}\n              </h1>\n              {/* <!-- &nbsp;&nbsp;&nbsp;&nbsp; --> */}\n              <div className=\"stars\">\n                {stars}\n              </div>\n            </div>\n            <div className=\"single-hotel-call ml-auto\">\n              chiama!&nbsp;<span className=\"bold\">{process.env.contacts.phone.label}</span>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section className=\"section-main only-padding-bottom single-hotel-section\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-4\">\n              <div className=\"content-box content-box-1\">\n                <div className=\"titoletto\">\n                  posizione\n                </div>\n                <div className=\"description\">\n                  {hotel.details.address}<br/>\n                  {hotel.details.zip_code} {hotel.details.city} ({hotel.details.state})\n                </div>\n\n                <div className=\"titoletto\">\n                    distanze\n                </div>\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_near.it }} />\n                </div>\n                {/* <div className=\"description\">\n                  Piano famiglia 4=3 1 bambino fino a 12 anni in camera con 2 adulti Gratis\n                </div> */}\n                \n                <ul className=\"hotel-service-list\">\n                  {hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map( (obj, index) => \n                    <li key={index}>\n                      <span>\n                        {/* ico */}\n                        {/* <i className=\"ico ico-childrens\"></i> */}\n                        {obj.name}\n                      </span>\n                    </li>\n                  )}\n                </ul>\n              </div>\n                                \n              <div className=\"content-box content-box-2\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_short.it }} />\n                </div>\n              </div>\n                                \n              <div className=\"content-box content-box-3\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description.it }} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"col-lg-7 offset-lg-1\">{console.log('hotel',hotel)}\n              <PeriodArchive\n                hotel={hotel}\n                periods={props.periods} \n                />\n            </div>\n          </div>\n        </div>\n      </section>\n    </Layout>\n  );\n};\n\nHotelPage.getInitialProps = async params => {\n  let menu = null;\n  let locs = [];\n  let hotelCategories = [];\n  let page = null;\n  let periods = [];\n  try {\n    let baseService = new BaseService();\n    let init = await baseService.initApp();\n    locs = init.locs || [];\n    hotelCategories = init.hotelCategories || [];\n\n    let menuService = new MenuService();\n    menu = await menuService.get(1);\n\n    let hotelService = new HotelService();\n    page = await hotelService.getBySlug(params.query.accommodation);\n\n    if( page && page.id > 0 ){\n      let rateplanPeriodService = new RateplanPeriodService();\n      periods = await rateplanPeriodService.query({hotel_id: page.id});\n    }\n  } catch (e) {\n\n  }\n\n  return {\n    locs,\n    hotelCategories,\n    menu,\n    page,\n    periods\n  };\n};\n\nexport default HotelPage;\n"]},"metadata":{},"sourceType":"module"}