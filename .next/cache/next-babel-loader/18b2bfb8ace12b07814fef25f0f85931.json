{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/accommodations/[accommodation].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\"; // import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\n\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\n\nvar HotelPage = function HotelPage(props) {\n  _s();\n\n  if (!props.page || props.page.length <= 0) {\n    return __jsx(Layout, {\n      settings: {\n        menu: props.menu\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }, \"Data not found\"));\n  }\n\n  var hotel = props.page;\n  var swiperHotelThumbnail = React.useRef(null);\n  var stars = [];\n\n  for (var i = 1; i <= parseInt(hotel.stars); i++) {\n    stars.push(__jsx(\"i\", {\n      key: i,\n      className: \"ico ico-star\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 16\n      }\n    }));\n  }\n\n  React.useEffect(function () {\n    swiperHotelThumbnail.current = new Swiper(\"#swiperHotelThumbnail\", {\n      grubCursor: false,\n      simulateTouch: false,\n      direction: 'horizontal',\n      //speed: 600,\n      slidesPerView: 1,\n      spaceBetween: 0,\n      navigation: {\n        nextEl: \"#swiperHotelThumbnail-button-next\",\n        prevEl: \"#swiperHotelThumbnail-button-prev\"\n      }\n    });\n  }, []);\n  return __jsx(Layout, {\n    settings: {\n      template: \"accommodation-page\",\n      menu: props.menu\n    },\n    meta: {\n      title: props.page.meta_title.it,\n      description: props.page.meta_description.it,\n      url: \"\".concat(process.env.meta.url, \"/accommodations/\").concat(props.page.slug.it),\n      image: props.page.media && props.page.media.gallery && props.page.media.gallery[0] ? props.page.media.gallery[0].url : null // image: (props.page.media && props.page.media.thumbnails && props.page.media.thumbnails[0]) ? props.page.media.thumbnails[0].url : null\n\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, __jsx(BookingSearchBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: \"single-hotel-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    id: \"swiperHotelThumbnail\",\n    className: \"swiper-container swiperHotelThumbnail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"swiper-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, hotel.media && hotel.media.gallery.map(function (img, index) {\n    return __jsx(\"div\", {\n      className: \"swiper-slide\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, __jsx(\"img\", {\n      src: img.url,\n      alt: img.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }));\n  }), (!hotel.media || !hotel.media.gallery) && __jsx(\"div\", {\n    className: \"swiper-slide\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: \"default\",\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    id: \"swiperHotelThumbnail-button-prev\",\n    className: \"swiper-button-prev\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    id: \"swiperHotelThumbnail-button-next\",\n    className: \"swiper-button-next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"topline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"title mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, hotel.name), __jsx(\"div\", {\n    className: \"stars\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, stars)), __jsx(\"div\", {\n    className: \"single-hotel-call ml-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"chiama!\\xA0\", __jsx(\"span\", {\n    className: \"bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 28\n    }\n  }, process.env.contacts.phone.label))))), __jsx(\"section\", {\n    className: \"section-main only-padding-bottom single-hotel-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"posizione\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, hotel.details.address, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 42\n    }\n  }), hotel.details.zip_code, \" \", hotel.details.city, \" (\", hotel.details.state, \")\"), __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"distanze\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_near.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  })), __jsx(\"ul\", {\n    className: \"hotel-service-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map(function (obj, index) {\n    return __jsx(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 23\n      }\n    }, obj.name));\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_short.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: \"col-lg-7 offset-lg-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, console.log('hotel', hotel), __jsx(PeriodArchive, {\n    hotel: hotel,\n    periods: props.periods,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }))))));\n};\n\n_s(HotelPage, \"DMf8tvr33Ii9uHvK9HtIvK6eftQ=\");\n\n_c = HotelPage;\n\nHotelPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n    var menu, locs, hotelCategories, page, periods, baseService, init, menuService, hotelService, rateplanPeriodService;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            menu = null;\n            locs = [];\n            hotelCategories = [];\n            page = null;\n            periods = [];\n            _context.prev = 5;\n            baseService = new BaseService();\n            _context.next = 9;\n            return baseService.initApp();\n\n          case 9:\n            init = _context.sent;\n            locs = init.locs || [];\n            hotelCategories = init.hotelCategories || [];\n            menuService = new MenuService();\n            _context.next = 15;\n            return menuService.get(1);\n\n          case 15:\n            menu = _context.sent;\n            hotelService = new HotelService();\n            _context.next = 19;\n            return hotelService.getBySlug(params.query.accommodation);\n\n          case 19:\n            page = _context.sent;\n\n            if (!(page && page.id > 0)) {\n              _context.next = 25;\n              break;\n            }\n\n            rateplanPeriodService = new RateplanPeriodService();\n            _context.next = 24;\n            return rateplanPeriodService.query({\n              hotel_id: page.id\n            });\n\n          case 24:\n            periods = _context.sent;\n\n          case 25:\n            _context.next = 29;\n            break;\n\n          case 27:\n            _context.prev = 27;\n            _context.t0 = _context[\"catch\"](5);\n\n          case 29:\n            return _context.abrupt(\"return\", {\n              locs: locs,\n              hotelCategories: hotelCategories,\n              menu: menu,\n              page: page,\n              periods: periods\n            });\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 27]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default HotelPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HotelPage\");","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/accommodations/[accommodation].js"],"names":["React","Link","SwiperCore","Swiper","Navigation","Pagination","Scrollbar","A11y","use","BaseService","MenuService","PostService","HotelService","RateplanPeriodService","Layout","BookingSearchBox","PeriodArchive","HotelPage","props","page","length","menu","hotel","swiperHotelThumbnail","useRef","stars","i","parseInt","push","useEffect","current","grubCursor","simulateTouch","direction","slidesPerView","spaceBetween","navigation","nextEl","prevEl","template","title","meta_title","it","description","meta_description","url","process","env","meta","slug","image","media","gallery","map","img","index","name","contacts","phone","label","details","address","zip_code","city","state","__html","description_near","incServices","obj","description_short","console","log","periods","getInitialProps","params","locs","hotelCategories","baseService","initApp","init","menuService","get","hotelService","getBySlug","query","accommodation","id","rateplanPeriodService","hotel_id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\n\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\n\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\";\n// import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\n\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\n\nconst HotelPage = props => {\n  if (!props.page || props.page.length <= 0) {\n    return (\n      <Layout settings={{ menu: props.menu }}>\n        <div>Data not found</div>\n      </Layout>\n    );\n  }\n\n  const hotel = props.page;\n  const swiperHotelThumbnail = React.useRef(null)\n  \n  let stars = [];\n  for( let i = 1; i <= parseInt(hotel.stars); i++ ) {\n    stars.push(<i key={i} className=\"ico ico-star\"></i>);\n  }\n\n  React.useEffect(() => {\n    swiperHotelThumbnail.current = new Swiper(`#swiperHotelThumbnail`, {\n      grubCursor: false,\n      simulateTouch : false,\n      direction: 'horizontal',\n      //speed: 600,\n      slidesPerView: 1,\n      spaceBetween: 0,\n      navigation: {\n        nextEl: `#swiperHotelThumbnail-button-next`,\n        prevEl: `#swiperHotelThumbnail-button-prev`,\n      }\n    })\n  }, [])\n\n  return (\n    <Layout \n      settings={{template:\"accommodation-page\", menu: props.menu}}\n      meta={{\n        title: props.page.meta_title.it,\n        description: props.page.meta_description.it,\n        url: `${process.env.meta.url}/accommodations/${props.page.slug.it}`,\n        image: (props.page.media && props.page.media.gallery && props.page.media.gallery[0]) ? props.page.media.gallery[0].url : null\n        // image: (props.page.media && props.page.media.thumbnails && props.page.media.thumbnails[0]) ? props.page.media.thumbnails[0].url : null\n      }}\n      >\n      <BookingSearchBox />\n\n      <section className=\"single-hotel-section\">\n        <div className=\"container\">\n\n          <div id={`swiperHotelThumbnail`} className=\"swiper-container swiperHotelThumbnail\">\n            <div className=\"swiper-wrapper\">\n              {hotel.media && hotel.media.gallery.map((img, index) => \n                <div className=\"swiper-slide\" key={index}>\n                  <img src={img.url} alt={img.name} />\n                </div>\n              )}\n              {(!hotel.media || !hotel.media.gallery) && \n                <div className=\"swiper-slide\">\n                  <img src=\"default\" alt=\"\" />\n                </div>\n              }\n            </div>\n            <div id={`swiperHotelThumbnail-button-prev`} className=\"swiper-button-prev\"></div>\n            <div id={`swiperHotelThumbnail-button-next`} className=\"swiper-button-next\"></div>\n          </div>\n            \n          {/* <figure className=\"img-bgas\">\n            <img\n              src={(hotel.media && hotel.media.gallery && hotel.media.gallery[0]) ? hotel.media.gallery[0].url : 'default'}\n              alt={hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name} \n              />\n          </figure> */}\n\n          <div className=\"topline\">\n            <div className=\"title mr-auto\">\n              <h1>\n                {/* Hotel&nbsp;<strong>Sorriso</strong> */}\n                {hotel.name}\n              </h1>\n              {/* <!-- &nbsp;&nbsp;&nbsp;&nbsp; --> */}\n              <div className=\"stars\">\n                {stars}\n              </div>\n            </div>\n            <div className=\"single-hotel-call ml-auto\">\n              chiama!&nbsp;<span className=\"bold\">{process.env.contacts.phone.label}</span>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section className=\"section-main only-padding-bottom single-hotel-section\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-4\">\n              <div className=\"content-box content-box-1\">\n                <div className=\"titoletto\">\n                  posizione\n                </div>\n                <div className=\"description\">\n                  {hotel.details.address}<br/>\n                  {hotel.details.zip_code} {hotel.details.city} ({hotel.details.state})\n                </div>\n\n                <div className=\"titoletto\">\n                    distanze\n                </div>\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_near.it }} />\n                </div>\n                {/* <div className=\"description\">\n                  Piano famiglia 4=3 1 bambino fino a 12 anni in camera con 2 adulti Gratis\n                </div> */}\n                \n                <ul className=\"hotel-service-list\">\n                  {hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map( (obj, index) => \n                    <li key={index}>\n                      <span>\n                        {/* ico */}\n                        {/* <i className=\"ico ico-childrens\"></i> */}\n                        {obj.name}\n                      </span>\n                    </li>\n                  )}\n                </ul>\n              </div>\n                                \n              <div className=\"content-box content-box-2\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_short.it }} />\n                </div>\n              </div>\n                                \n              <div className=\"content-box content-box-3\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description.it }} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"col-lg-7 offset-lg-1\">{console.log('hotel',hotel)}\n              <PeriodArchive\n                hotel={hotel}\n                periods={props.periods} \n                />\n            </div>\n          </div>\n        </div>\n      </section>\n    </Layout>\n  );\n};\n\nHotelPage.getInitialProps = async params => {\n  let menu = null;\n  let locs = [];\n  let hotelCategories = [];\n  let page = null;\n  let periods = [];\n  try {\n    let baseService = new BaseService();\n    let init = await baseService.initApp();\n    locs = init.locs || [];\n    hotelCategories = init.hotelCategories || [];\n\n    let menuService = new MenuService();\n    menu = await menuService.get(1);\n\n    let hotelService = new HotelService();\n    page = await hotelService.getBySlug(params.query.accommodation);\n\n    if( page && page.id > 0 ){\n      let rateplanPeriodService = new RateplanPeriodService();\n      periods = await rateplanPeriodService.query({hotel_id: page.id});\n    }\n  } catch (e) {\n\n  }\n\n  return {\n    locs,\n    hotelCategories,\n    menu,\n    page,\n    periods\n  };\n};\n\nexport default HotelPage;\n"]},"metadata":{},"sourceType":"module"}