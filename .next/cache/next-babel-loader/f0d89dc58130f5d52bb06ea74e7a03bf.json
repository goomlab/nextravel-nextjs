{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/components/Partials/BookingSearchBox.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport moment from \"moment\";\nimport Link from \"next/link\";\nimport BaseService from \"~/packages/BaseService\";\nimport { Swiper, SwiperSlide } from 'swiper/react';\n\nvar BookingSearchBox = function BookingSearchBox(props) {\n  _s();\n\n  console.log('props', props);\n\n  var _React$useState = React.useState({\n    loc_id: props.query && props.query.loc_id || '',\n    category_id: props.query && props.query.category_id || '',\n    checkin: props.query && props.query.checkin != \"\" ? props.query.checkin : '',\n    checkout: props.query && props.query.checkout != \"\" ? props.query.checkout : '',\n    nights: props.query && props.query.nights || ''\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    locs: [],\n    hotelCategories: [],\n    months: [],\n    specials: []\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      params = _React$useState4[0],\n      setParams = _React$useState4[1];\n\n  React.useEffect(function () {\n    var baseService = new BaseService();\n    baseService.initApp().then(function (response) {\n      setParams({\n        locs: response.locs || [],\n        hotelCategories: response.hotelCategories || [],\n        months: response.filterPages.months || [],\n        specials: response.filterPages.specials || []\n      });\n    })[\"catch\"](function (error) {\n      console.log('error', error);\n    }); // setState({\n    //   loc_id: (props.query && props.query.loc_id) || null,\n    //   category_id: (props.query && props.query.category_id) || null,\n    //   checkin: (props.query && props.query.checkin) || null,\n    //   checkout: (props.query && props.query.checkout) || null,\n    //   nights: (props.query && props.query.nights) || null\n    // })\n  }, []);\n  var checkinFormatted = props.query && props.query.checkin && props.query.checkin != \"\" ? moment(props.query.checkin, 'YYYY-MM-DD').format('DD/MM/YYYY') : '';\n  var checkoutFormatted = props.query && props.query.checkout && props.query.checkout != \"\" ? moment(props.query.checkout, 'YYYY-MM-DD').format('DD/MM/YYYY') : '';\n\n  var getMonths = function getMonths() {\n    // mesi\n    var months = [];\n    moment.locale('it');\n    var now = moment();\n    var i = 0;\n\n    do {\n      months.push(__jsx(Link, {\n        href: \"/speciali/[slug]\",\n        as: \"/speciali/\".concat(now.format('MMMM').toLowerCase()),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, __jsx(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, now.format('MMM')), \" \", now.format('YY'))));\n      i++;\n      now.add(1, 'months');\n    } while (i < 12);\n\n    return months;\n  };\n\n  var _onChange = function onChange(e) {\n    var newState = Object.assign({}, state);\n    newState[e.target.name] = e.target.value;\n    setState(_objectSpread({}, newState));\n  };\n\n  var onSumbit = function onSumbit(e) {\n    e.preventDefault();\n    var url = \"/accommodations?\";\n\n    for (var _i = 0, _Object$entries = Object.entries(state); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n          key = _Object$entries$_i[0],\n          value = _Object$entries$_i[1];\n\n      url += key + '=' + value + '&';\n    }\n\n    window.location.href = url;\n  };\n\n  var months = getMonths();\n  return __jsx(\"section\", {\n    className: \"booking-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, __jsx(\"form\", {\n    className: \"booking-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, __jsx(\"select\", {\n    className: \"custom-select\",\n    name: \"loc_id\",\n    id: \"loc_id\",\n    onChange: function onChange(e) {\n      return _onChange(e);\n    },\n    value: state.loc_id || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Localit\\xE0\"), params.locs && params.locs.map(function (obj, index) {\n    return __jsx(\"option\", {\n      key: index,\n      value: obj.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, obj.name);\n  }))), __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, __jsx(\"select\", {\n    className: \"custom-select\",\n    name: \"category_id\",\n    id: \"category_id\",\n    onChange: function onChange(e) {\n      return _onChange(e);\n    },\n    value: state.category_id || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Struttura\"), params.hotelCategories && params.hotelCategories.map(function (obj, index) {\n    return __jsx(\"option\", {\n      key: index,\n      value: obj.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, obj.name);\n  }))), __jsx(\"div\", {\n    className: \"col-lg-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    className: \"form-control booking_dateRangePicker\",\n    id: \"booking_dateRangePicker\",\n    type: \"text\",\n    placeholder: \"Checkin\",\n    defaultValue: checkinFormatted != \"\" && checkoutFormatted != \"\" ? \"\".concat(checkinFormatted, \" - \").concat(checkoutFormatted) : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }), __jsx(\"input\", {\n    type: \"hidden\",\n    name: \"checkin\",\n    id: \"checkin\",\n    onChange: function onChange(e) {\n      return _onChange(e);\n    },\n    value: state.checkin || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }), __jsx(\"input\", {\n    type: \"hidden\",\n    name: \"checkout\",\n    id: \"checkout\",\n    onChange: function onChange(e) {\n      return _onChange(e);\n    },\n    value: state.checkout || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"col-lg-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, __jsx(\"select\", {\n    className: \"custom-select\",\n    name: \"nights\",\n    id: \"nights\",\n    onChange: function onChange(e) {\n      return _onChange(e);\n    },\n    value: state.nights || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Notti\"), __jsx(\"option\", {\n    value: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"1\"), __jsx(\"option\", {\n    value: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"2\"), __jsx(\"option\", {\n    value: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, \"3\"), __jsx(\"option\", {\n    value: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, \"4\"), __jsx(\"option\", {\n    value: \"5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"5\"), __jsx(\"option\", {\n    value: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"6\"), __jsx(\"option\", {\n    value: \"7\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, \"7\"))), __jsx(\"div\", {\n    className: \"col-lg-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-yellow\",\n    onClick: function onClick(e) {\n      return onSumbit(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, \"Cerca\")))), props.full && __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"booking-months\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, __jsx(Swiper, {\n    className: \"swiper-container swiperBookingMonths\",\n    spaceBetween: 30,\n    slidesPerView: 10,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, months.map(function (obj, index) {\n    return __jsx(SwiperSlide, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 19\n      }\n    }, obj);\n  }))), params.specials && params.specials.length > 0 && __jsx(\"div\", {\n    className: \"booking-holidays\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"swiper-container swiperBookingMonths\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"swiper-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, params.specials && params.specials.map(function (obj, index) {\n    return __jsx(\"div\", {\n      className: \"swiper-slide\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, __jsx(Link, {\n      href: \"/speciali/[slug]\",\n      as: \"/speciali/\".concat(obj.slug.it),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 23\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, obj.title.it)));\n  }))), __jsx(\"div\", {\n    className: \"swiper-button-prev\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"swiper-button-next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  })))));\n};\n\n_s(BookingSearchBox, \"NJUFs5Kdosrpr451TD3ee+HjoKw=\");\n\n_c = BookingSearchBox;\nexport default BookingSearchBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookingSearchBox\");","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/components/Partials/BookingSearchBox.js"],"names":["React","moment","Link","BaseService","Swiper","SwiperSlide","BookingSearchBox","props","console","log","useState","loc_id","query","category_id","checkin","checkout","nights","state","setState","locs","hotelCategories","months","specials","params","setParams","useEffect","baseService","initApp","then","response","filterPages","error","checkinFormatted","format","checkoutFormatted","getMonths","locale","now","i","push","toLowerCase","add","onChange","e","newState","Object","assign","target","name","value","onSumbit","preventDefault","url","entries","key","window","location","href","map","obj","index","id","full","length","slug","it","title"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport moment from \"moment\";\nimport Link from \"next/link\";\n\nimport BaseService from \"~/packages/BaseService\";\n\nimport { Swiper, SwiperSlide } from 'swiper/react';\n\nconst BookingSearchBox = props => { console.log('props', props)\n\n  const [state, setState] = React.useState({\n    loc_id: (props.query && props.query.loc_id) || '',\n    category_id: (props.query && props.query.category_id) || '',\n    checkin: (props.query && props.query.checkin != \"\") ? props.query.checkin : '',\n    checkout: (props.query && props.query.checkout != \"\") ? props.query.checkout : '',\n    nights: (props.query && props.query.nights) || ''\n  });\n\n  const [params, setParams] = React.useState({\n    locs: [],\n    hotelCategories: [],\n    months: [],\n    specials: []\n  })\n\n\n  React.useEffect(() => {\n    let baseService = new BaseService();\n    baseService.initApp()\n    .then(response => {\n      setParams({\n        locs: response.locs || [],\n        hotelCategories: response.hotelCategories || [],\n        months: response.filterPages.months || [],\n        specials: response.filterPages.specials || [],\n      })\n    })\n    .catch(error => {\n      console.log('error', error)\n    });\n\n    // setState({\n    //   loc_id: (props.query && props.query.loc_id) || null,\n    //   category_id: (props.query && props.query.category_id) || null,\n    //   checkin: (props.query && props.query.checkin) || null,\n    //   checkout: (props.query && props.query.checkout) || null,\n    //   nights: (props.query && props.query.nights) || null\n    // })\n  },[])\n\n\n  const checkinFormatted = (props.query && props.query.checkin && props.query.checkin != \"\") ? moment(props.query.checkin, 'YYYY-MM-DD').format('DD/MM/YYYY') : '';\n  const checkoutFormatted = (props.query && props.query.checkout && props.query.checkout != \"\") ? moment(props.query.checkout, 'YYYY-MM-DD').format('DD/MM/YYYY') : '';\n\n  const getMonths = () => {\n    // mesi\n    let months = [];\n    moment.locale('it');\n    var now = moment();\n    let i = 0;\n    do {\n      months.push(\n        <Link href=\"/speciali/[slug]\" as={`/speciali/${now.format('MMMM').toLowerCase()}`}>\n          <a>\n            <strong>{now.format('MMM')}</strong> {now.format('YY')}\n          </a>\n        </Link>\n      );\n      i++;\n      now.add(1, 'months');\n    }while(i<12);\n    \n    return months;\n  }\n\n  const onChange = (e) => {\n    let newState = Object.assign({}, state);\n    newState[e.target.name] = e.target.value;\n    setState({\n      ...newState\n    })\n  }\n\n  const onSumbit = (e) => {\n    e.preventDefault();\n    var url = \"/accommodations?\";\n    for(let [key, value] of Object.entries(state))\n      url += key + '=' + value + '&';\n    window.location.href = url;\n  }\n\n  const months = getMonths();\n  return (\n    <section className=\"booking-box\">\n      <div className=\"container\">\n        <form className=\"booking-form\">\n          <div className=\"row\">\n            <div className=\"col-lg-3\">\n              <select className=\"custom-select\" name=\"loc_id\" id=\"loc_id\" onChange={(e)=>onChange(e)} value={state.loc_id || ''}>\n                <option value=\"\">Localit√†</option>\n                {params.locs && params.locs.map( (obj, index) => \n                  <option key={index} value={obj.id}>{obj.name}</option>\n                )}\n              </select>\n            </div>\n            <div className=\"col-lg-3\">\n              <select className=\"custom-select\" name=\"category_id\" id=\"category_id\" onChange={(e)=>onChange(e)} value={state.category_id || ''}>\n                <option value=\"\">Struttura</option>\n                {params.hotelCategories && params.hotelCategories.map( (obj, index) => \n                  <option key={index} value={obj.id}>{obj.name}</option>\n                )}\n              </select>\n            </div>\n\n            <div className=\"col-lg-3\">\n              <input\n                className=\"form-control booking_dateRangePicker\"\n                id=\"booking_dateRangePicker\"\n                type=\"text\"\n                placeholder=\"Checkin\"\n                defaultValue={(checkinFormatted != \"\" && checkoutFormatted != \"\") ? (`${checkinFormatted} - ${checkoutFormatted}`) : ''}\n              />\n              <input type=\"hidden\" name=\"checkin\" id=\"checkin\" onChange={(e)=>onChange(e)} value={state.checkin || ''}/>\n              <input type=\"hidden\" name=\"checkout\" id=\"checkout\" onChange={(e)=>onChange(e)} value={state.checkout || ''}/>\n            </div>\n            <div className=\"col-lg-2\">\n              <select className=\"custom-select\" name=\"nights\" id=\"nights\" onChange={(e)=>onChange(e)} value={state.nights || ''}>\n                <option value=\"\">Notti</option>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n                <option value=\"6\">6</option>\n                <option value=\"7\">7</option>\n              </select>\n            </div>\n            <div className=\"col-lg-1\">\n              <button type=\"submit\" className=\"btn btn-yellow\" onClick={(e)=>onSumbit(e)}>\n                Cerca\n              </button>\n            </div>\n          </div>\n        </form>\n\n        {props.full &&\n          <React.Fragment>\n            <div className=\"booking-months\">\n              <Swiper\n                className=\"swiper-container swiperBookingMonths\"\n                spaceBetween={30}\n                slidesPerView={10}\n              >\n                {months.map( (obj, index) => \n                  <SwiperSlide key={index}>\n                    {obj}\n                  </SwiperSlide>\n                )}\n              </Swiper>\n              {/* <div className=\"swiper-container swiperBookingMonths\">\n                <div className=\"swiper-wrapper\">\n                  {months.map( (obj, index) => \n                    <div className=\"swiper-slide\" key={index}>\n                      {obj}\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"swiper-button-prev\"></div>\n              <div className=\"swiper-button-next\"></div> */}\n            </div>\n\n            {params.specials && params.specials.length > 0 &&\n            <div className=\"booking-holidays\">\n              <div className=\"swiper-container swiperBookingMonths\">\n                <div className=\"swiper-wrapper\">\n                  {params.specials && params.specials.map( (obj, index) => \n                    <div className=\"swiper-slide\" key={index}>\n                      <Link href=\"/speciali/[slug]\" as={`/speciali/${obj.slug.it}`}>\n                        <a>\n                          {obj.title.it}\n                        </a>\n                      </Link>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"swiper-button-prev\"></div>\n              <div className=\"swiper-button-next\"></div>\n            </div>\n            }\n          </React.Fragment>\n        }\n      </div>\n    </section>\n  );\n};\n\nexport default BookingSearchBox;"]},"metadata":{},"sourceType":"module"}