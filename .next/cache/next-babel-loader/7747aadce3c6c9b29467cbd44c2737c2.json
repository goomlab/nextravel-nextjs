{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport moment from \"moment\";\nimport Link from \"next/link\";\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\nimport PracticeService from \"~/packages/TravelgoOne/services/PracticeService\";\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\"; // import HotelService from \"~/packages/TravelgoOne/services/HotelService\";\n// import RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\n\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\"; // import BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\n// import BookingForm from \"~/components/Partials/BookingForm\";\n// import PriceTable from '~/components/Partials/PriceTable';\n// import { query } from \"express\";\n\nvar PracticePage = function PracticePage(props) {\n  console.log('props', props);\n\n  if (!props.practice || props.practice.length <= 0) {\n    return __jsx(Layout, {\n      settings: {\n        menu: props.menu\n      }\n    }, __jsx(\"div\", null, \"Data not found\"));\n  }\n\n  console.log(props.practice);\n  return 'ciao'; // const period = props.period;\n\n  var hotel = props.practice.hotel;\n  var swiperHotelThumbnail = React.useRef(null); // let dateFrom = moment(period.date_from, \"YYYY-MM-DD\");\n  // let dateTo = moment(period.date_to, \"YYYY-MM-DD\");\n\n  var stars = [];\n\n  for (var i = 1; i <= parseInt(hotel.stars); i++) {\n    stars.push(__jsx(\"i\", {\n      key: i,\n      className: \"ico ico-star\"\n    }));\n  } // let priceList = {};\n  // for (const [key, treatmentObj] of Object.entries(props.period.viewPrices)) {\n  //   priceList[key] = {\n  //     n1: (treatmentObj.n1) ? treatmentObj.n1 : null,\n  //     n2: (treatmentObj.n2) ? treatmentObj.n2 : null,\n  //     n3: (treatmentObj.n3) ? treatmentObj.n3 : null,\n  //     n4: (treatmentObj.n4) ? treatmentObj.n4 : null,\n  //     n5: (treatmentObj.n5) ? treatmentObj.n5 : null,\n  //     n6: (treatmentObj.n6) ? treatmentObj.n6 : null,\n  //     n7: (treatmentObj.n7) ? treatmentObj.n7 : null,\n  //   };\n  // }\n\n\n  React.useEffect(function () {\n    swiperHotelThumbnail.current = new Swiper(\"#swiperHotelThumbnail\", {\n      grubCursor: false,\n      simulateTouch: false,\n      direction: 'horizontal',\n      //speed: 600,\n      slidesPerView: 1,\n      spaceBetween: 0,\n      navigation: {\n        nextEl: \"#swiperHotelThumbnail-button-next\",\n        prevEl: \"#swiperHotelThumbnail-button-prev\"\n      }\n    });\n  }, []);\n  return __jsx(Layout, {\n    settings: {\n      template: \"booking-page\",\n      menu: props.menu\n    },\n    meta: {\n      title: \"Preventivo \".concat(props.practice.id),\n      description: \"Preventivo \".concat(props.practice.id),\n      url: \"\".concat(process.env.meta.url, \"/preventivi/\").concat(props.practice.id),\n      image: props.hotel.media && props.practice.hotel.media.gallery && props.practice.hotel.media.gallery[0] ? props.practice.hotel.media.gallery[0].url : null\n    }\n  }, __jsx(\"section\", {\n    className: \"single-hotel-section\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    id: \"swiperHotelThumbnail\",\n    className: \"swiper-container swiperHotelThumbnail\"\n  }, __jsx(\"div\", {\n    className: \"swiper-wrapper\"\n  }, hotel.media && hotel.media.gallery.map(function (img, index) {\n    return __jsx(\"div\", {\n      className: \"swiper-slide\",\n      key: index\n    }, __jsx(\"figure\", {\n      \"class\": \"img-bgas\"\n    }, __jsx(\"img\", {\n      src: img.url,\n      alt: img.name\n    })));\n  }), (!hotel.media || !hotel.media.gallery) && __jsx(\"div\", {\n    className: \"swiper-slide\"\n  }, __jsx(\"figure\", {\n    \"class\": \"img-bgas\"\n  }, __jsx(\"img\", {\n    src: \"default\",\n    alt: \"\"\n  })))), __jsx(\"div\", {\n    id: \"swiperHotelThumbnail-button-prev\",\n    className: \"swiper-button-prev\"\n  }), __jsx(\"div\", {\n    id: \"swiperHotelThumbnail-button-next\",\n    className: \"swiper-button-next\"\n  })), __jsx(\"div\", {\n    className: \"topline\"\n  }, __jsx(\"div\", {\n    className: \"title mr-auto\"\n  }, __jsx(\"h1\", null, hotel.name), __jsx(\"div\", {\n    className: \"stars\"\n  }, stars)), __jsx(\"div\", {\n    className: \"single-hotel-call ml-auto\"\n  }, \"chiama!\\xA0\", __jsx(\"span\", {\n    className: \"bold\"\n  }, process.env.contacts.phone.label))))), __jsx(\"section\", {\n    className: \"section-main single-hotel-section\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-3\"\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-1\"\n  }, __jsx(\"div\", {\n    className: \"titoletto\"\n  }, \"posizione\"), __jsx(\"div\", {\n    className: \"description\"\n  }, hotel.details.address, __jsx(\"br\", null), hotel.details.zip_code, \" \", hotel.details.city, \" (\", hotel.details.state, \")\"), __jsx(\"div\", {\n    className: \"titoletto\"\n  }, \"distanze\"), __jsx(\"div\", {\n    className: \"description\"\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_near.it\n    }\n  })), __jsx(\"ul\", {\n    className: \"hotel-service-list\"\n  }, hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map(function (obj, index) {\n    return __jsx(\"li\", {\n      key: index\n    }, __jsx(\"span\", null, obj.name));\n  })))), __jsx(\"div\", {\n    className: \"col-lg-4\"\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-2\"\n  }, __jsx(\"div\", {\n    className: \"description\"\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_short.it\n    }\n  })))), __jsx(\"div\", {\n    className: \"col-lg-5\"\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-3\"\n  }, __jsx(\"div\", {\n    className: \"description\"\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_short.it\n    }\n  }))))))));\n};\n\nPracticePage.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n    var menu, practice, error, practiceService, menuService;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            menu = null;\n            practice = null;\n            error = null;\n            _context.prev = 3;\n            practiceService = new PracticeService();\n            practice = practiceService.get(params.query.id);\n            menuService = new MenuService();\n            _context.next = 9;\n            return menuService.get(1);\n\n          case 9:\n            menu = _context.sent;\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](3);\n            error = _context.t0;\n\n          case 15:\n            return _context.abrupt(\"return\", {\n              error: error,\n              menu: menu,\n              practice: practice\n            });\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 12]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default PracticePage;","map":null,"metadata":{},"sourceType":"module"}