{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/strutture-ricettive/[accommodation].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport Head from \"next/Head\";\nimport { HotelSchema, makeHotelSchema } from \"~/components/JsonLdSchema\";\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\"; // import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\n\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\nimport HotelExtraServicesTable from '~/components/Partials/HotelExtraServicesTable';\n\nvar HotelPage = function HotelPage(props) {\n  _s();\n\n  if (!props.page || props.page.length <= 0) {\n    return __jsx(Layout, {\n      settings: {\n        menu: props.menu\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }\n    }, \"Data not found\"));\n  }\n\n  var hotel = props.page;\n  var swiperHotelThumbnail = React.useRef(null);\n  var stars = [];\n\n  for (var i = 1; i <= parseInt(hotel.stars); i++) {\n    stars.push(__jsx(\"i\", {\n      key: i,\n      className: \"ico ico-star\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 16\n      }\n    }));\n  }\n\n  React.useEffect(function () {\n    swiperHotelThumbnail.current = new Swiper(\"#swiperHotelThumbnail\", {\n      grubCursor: false,\n      simulateTouch: false,\n      direction: 'horizontal',\n      //speed: 600,\n      slidesPerView: 1,\n      spaceBetween: 0,\n      navigation: {\n        nextEl: \"#swiperHotelThumbnail-button-next\",\n        prevEl: \"#swiperHotelThumbnail-button-prev\"\n      }\n    });\n  }, []);\n  return __jsx(Layout, {\n    settings: {\n      template: \"accommodation-page\",\n      menu: props.menu\n    },\n    meta: {\n      title: props.page.meta_title.it,\n      description: props.page.meta_description.it,\n      url: \"\".concat(process.env.meta.url, \"/accommodations/\").concat(props.page.slug.it),\n      image: props.page.media && props.page.media.gallery && props.page.media.gallery[0] ? props.page.media.gallery[0].url : null // image: (props.page.media && props.page.media.thumbnails && props.page.media.thumbnails[0]) ? props.page.media.thumbnails[0].url : null,\n      // jsonlds:[\n      //   <HotelSchema hotel={props.hotel} />\n      // ]\n\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, __jsx(\"script\", {\n    key: \"jobJSON-\".concat(props.page.id),\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: JSON.stringify(makeHotelSchema(props.page))\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })), __jsx(BookingSearchBox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: \"single-hotel-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    id: \"swiperHotelThumbnail\",\n    className: \"swiper-container swiperHotelThumbnail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"swiper-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, hotel.media && hotel.media.gallery.map(function (img, index) {\n    return __jsx(\"div\", {\n      className: \"swiper-slide\",\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, __jsx(\"figure\", {\n      className: \"img-bgas\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, __jsx(\"img\", {\n      src: img.url,\n      alt: img.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    })));\n  }), (!hotel.media || !hotel.media.gallery) && __jsx(\"div\", {\n    className: \"swiper-slide\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, __jsx(\"figure\", {\n    classNAme: \"img-bgas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, __jsx(\"img\", {\n    src: \"default\",\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  })))), __jsx(\"div\", {\n    id: \"swiperHotelThumbnail-button-prev\",\n    className: \"swiper-button-prev\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    id: \"swiperHotelThumbnail-button-next\",\n    className: \"swiper-button-next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"topline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"title mr-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, hotel.name), __jsx(\"div\", {\n    className: \"stars\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, stars)), __jsx(\"div\", {\n    className: \"single-hotel-call ml-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"chiama!\\xA0\", __jsx(\"span\", {\n    className: \"bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 28\n    }\n  }, process.env.contacts.phone.label))))), __jsx(\"section\", {\n    className: \"section-main only-padding-bottom single-hotel-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"content-box content-box-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"posizione\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, hotel.details.address, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 42\n    }\n  }), hotel.details.zip_code, \" \", hotel.details.city, \" (\", hotel.details.state, \")\"), __jsx(\"div\", {\n    className: \"titoletto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"distanze\"), __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_near.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  })), __jsx(\"ul\", {\n    className: \"hotel-service-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map(function (obj, index) {\n    return __jsx(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }, obj.name));\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description_short.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    className: \"content-box content-box-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: hotel.description.it\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: \"col-lg-7 offset-lg-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, __jsx(PeriodArchive, {\n    hotel: hotel,\n    periods: props.periods,\n    hasHotelAgeRanges: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }), hotel.extraServices && hotel.extraServices.length > 0 && __jsx(HotelExtraServicesTable, {\n    extraServices: hotel.extraServices,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }) // <div className=\"row\">\n  //   <div className=\"col-sm-10\">\n  //     <span>Servizi aggiuntivi</span>\n  //     <table class=\"prices-table\">\n  //       <tbody>\n  //       {hotel.extraServices.map( (obj, index) => \n  //         <tr key={index}>\n  //           <td className=\"service-name\">\n  //             {obj.name}\n  //           </td>\n  //           <td className=\"service-price\">\n  //             <span className=\"no-smartphone\">{(obj.pivot.price_type == 'fixed') ? '€ ' : '+ '}</span>\n  //             {obj.pivot.price},-\n  //             {(obj.pivot.price_type == 'percent') ? ' %' : ''}\n  //           </td>\n  //         </tr>\n  //       )}\n  //       </tbody>\n  //     </table>\n  //   </div>\n  // </div>\n  )))));\n};\n\n_s(HotelPage, \"DMf8tvr33Ii9uHvK9HtIvK6eftQ=\");\n\n_c = HotelPage;\n\nHotelPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n    var menu, locs, hotelCategories, page, periods, baseService, init, menuService, hotelService, rateplanPeriodService;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            menu = null;\n            locs = [];\n            hotelCategories = [];\n            page = null;\n            periods = [];\n            _context.prev = 5;\n            baseService = new BaseService();\n            _context.next = 9;\n            return baseService.initApp();\n\n          case 9:\n            init = _context.sent;\n            locs = init.locs || [];\n            hotelCategories = init.hotelCategories || [];\n            menuService = new MenuService();\n            _context.next = 15;\n            return menuService.get(1);\n\n          case 15:\n            menu = _context.sent;\n            hotelService = new HotelService();\n            _context.next = 19;\n            return hotelService.getBySlug(params.query.accommodation);\n\n          case 19:\n            page = _context.sent;\n\n            if (!(page && page.id > 0)) {\n              _context.next = 25;\n              break;\n            }\n\n            rateplanPeriodService = new RateplanPeriodService();\n            _context.next = 24;\n            return rateplanPeriodService.query({\n              hotel_id: page.id\n            });\n\n          case 24:\n            periods = _context.sent;\n\n          case 25:\n            _context.next = 29;\n            break;\n\n          case 27:\n            _context.prev = 27;\n            _context.t0 = _context[\"catch\"](5);\n\n          case 29:\n            return _context.abrupt(\"return\", {\n              locs: locs,\n              hotelCategories: hotelCategories,\n              menu: menu,\n              page: page,\n              periods: periods\n            });\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 27]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default HotelPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HotelPage\");","map":{"version":3,"sources":["/Users/giuseppe/Workspace/Di Costanzo Marco/nextravel.it/www/nextravel-nextjs/pages/strutture-ricettive/[accommodation].js"],"names":["React","Link","Head","HotelSchema","makeHotelSchema","SwiperCore","Swiper","Navigation","Pagination","Scrollbar","A11y","use","BaseService","MenuService","PostService","HotelService","RateplanPeriodService","Layout","BookingSearchBox","PeriodArchive","HotelExtraServicesTable","HotelPage","props","page","length","menu","hotel","swiperHotelThumbnail","useRef","stars","i","parseInt","push","useEffect","current","grubCursor","simulateTouch","direction","slidesPerView","spaceBetween","navigation","nextEl","prevEl","template","title","meta_title","it","description","meta_description","url","process","env","meta","slug","image","media","gallery","id","__html","JSON","stringify","map","img","index","name","contacts","phone","label","details","address","zip_code","city","state","description_near","incServices","obj","description_short","periods","extraServices","getInitialProps","params","locs","hotelCategories","baseService","initApp","init","menuService","get","hotelService","getBySlug","query","accommodation","rateplanPeriodService","hotel_id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\nimport Head from \"next/Head\";\n\nimport { HotelSchema, makeHotelSchema } from \"~/components/JsonLdSchema\";\n\nimport SwiperCore, { Swiper, Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\n\nimport BaseService from \"~/packages/BaseService\";\nimport MenuService from \"~/packages/Post/services/MenuService\";\nimport PostService from \"~/packages/Post/services/PostService\";\nimport HotelService from \"~/packages/TravelgoOne/services/HotelService\";\n// import LastminuteService from \"~/packages/TravelgoOne/services/LastminuteService\";\nimport RateplanPeriodService from \"~/packages/TravelgoOne/services/RateplanPeriodService\";\n\nimport Layout from \"~/components/Layouts/MainLayout/MainLayout\";\nimport BookingSearchBox from \"~/components/Partials/BookingSearchBox\";\nimport PeriodArchive from \"~/components/Partials/PeriodArchive\";\nimport HotelExtraServicesTable from '~/components/Partials/HotelExtraServicesTable';\n\nconst HotelPage = props => {\n  if (!props.page || props.page.length <= 0) {\n    return (\n      <Layout settings={{ menu: props.menu }}>\n        <div>Data not found</div>\n      </Layout>\n    );\n  }\n\n  const hotel = props.page;\n  const swiperHotelThumbnail = React.useRef(null)\n  \n  let stars = [];\n  for( let i = 1; i <= parseInt(hotel.stars); i++ ) {\n    stars.push(<i key={i} className=\"ico ico-star\"></i>);\n  }\n\n  React.useEffect(() => {\n    swiperHotelThumbnail.current = new Swiper(`#swiperHotelThumbnail`, {\n      grubCursor: false,\n      simulateTouch : false,\n      direction: 'horizontal',\n      //speed: 600,\n      slidesPerView: 1,\n      spaceBetween: 0,\n      navigation: {\n        nextEl: `#swiperHotelThumbnail-button-next`,\n        prevEl: `#swiperHotelThumbnail-button-prev`,\n      }\n    })\n  }, [])\n\n  return (\n    <Layout \n      settings={{template:\"accommodation-page\", menu: props.menu}}\n      meta={{\n        title: props.page.meta_title.it,\n        description: props.page.meta_description.it,\n        url: `${process.env.meta.url}/accommodations/${props.page.slug.it}`,\n        image: (props.page.media && props.page.media.gallery && props.page.media.gallery[0]) ? props.page.media.gallery[0].url : null,\n        // image: (props.page.media && props.page.media.thumbnails && props.page.media.thumbnails[0]) ? props.page.media.thumbnails[0].url : null,\n        // jsonlds:[\n        //   <HotelSchema hotel={props.hotel} />\n        // ]\n      }}\n      >\n      <Head>\n        <script\n          key={`jobJSON-${props.page.id}`}\n          type='application/ld+json'\n          dangerouslySetInnerHTML={{ __html: JSON.stringify(makeHotelSchema(props.page)) }}\n        />\n      </Head>\n\n      <BookingSearchBox />\n\n      <section className=\"single-hotel-section\">\n        <div className=\"container\">\n\n          <div id={`swiperHotelThumbnail`} className=\"swiper-container swiperHotelThumbnail\">\n            <div className=\"swiper-wrapper\">\n              {hotel.media && hotel.media.gallery.map((img, index) => \n                <div className=\"swiper-slide\" key={index}>\n                  <figure className=\"img-bgas\">\n                    <img src={img.url} alt={img.name} />\n                  </figure>\n                </div>\n              )}\n              {(!hotel.media || !hotel.media.gallery) && \n                <div className=\"swiper-slide\">\n                  <figure classNAme=\"img-bgas\">\n                    <img src=\"default\" alt=\"\" />\n                  </figure>\n                </div>\n              }\n            </div>\n            <div id={`swiperHotelThumbnail-button-prev`} className=\"swiper-button-prev\"></div>\n            <div id={`swiperHotelThumbnail-button-next`} className=\"swiper-button-next\"></div>\n          </div>\n            \n          {/* <figure className=\"img-bgas\">\n            <img\n              src={(hotel.media && hotel.media.gallery && hotel.media.gallery[0]) ? hotel.media.gallery[0].url : 'default'}\n              alt={hotel.media && hotel.media.gallery && hotel.media.gallery[0] && hotel.media.gallery[0].name} \n              />\n          </figure> */}\n\n          <div className=\"topline\">\n            <div className=\"title mr-auto\">\n              <h1>\n                {/* Hotel&nbsp;<strong>Sorriso</strong> */}\n                {hotel.name}\n              </h1>\n              {/* <!-- &nbsp;&nbsp;&nbsp;&nbsp; --> */}\n              <div className=\"stars\">\n                {stars}\n              </div>\n            </div>\n            <div className=\"single-hotel-call ml-auto\">\n              chiama!&nbsp;<span className=\"bold\">{process.env.contacts.phone.label}</span>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section className=\"section-main only-padding-bottom single-hotel-section\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-4\">\n              <div className=\"content-box content-box-1\">\n                <div className=\"titoletto\">\n                  posizione\n                </div>\n                <div className=\"description\">\n                  {hotel.details.address}<br/>\n                  {hotel.details.zip_code} {hotel.details.city} ({hotel.details.state})\n                </div>\n\n                <div className=\"titoletto\">\n                    distanze\n                </div>\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_near.it }} />\n                </div>\n                {/* <div className=\"description\">\n                  Piano famiglia 4=3 1 bambino fino a 12 anni in camera con 2 adulti Gratis\n                </div> */}\n                \n                <ul className=\"hotel-service-list\">\n                  {hotel.incServices && hotel.incServices.length > 0 && hotel.incServices.map( (obj, index) => \n                    <li key={index}>\n                      <span>\n                        {/* ico */}\n                        {/* <i className=\"ico ico-childrens\"></i> */}\n                        {obj.name}\n                      </span>\n                    </li>\n                  )}\n                </ul>\n              </div>\n                                \n              <div className=\"content-box content-box-2\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description_short.it }} />\n                </div>\n              </div>\n                                \n              <div className=\"content-box content-box-3\">\n                <div className=\"description\">\n                  <div dangerouslySetInnerHTML={{ __html: hotel.description.it }} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"col-lg-7 offset-lg-1\">\n              <PeriodArchive\n                hotel={hotel}\n                periods={props.periods}\n                hasHotelAgeRanges={true}\n                />\n\n              {hotel.extraServices && hotel.extraServices.length > 0 && \n                <HotelExtraServicesTable\n                  extraServices={hotel.extraServices}\n                  />\n                // <div className=\"row\">\n                //   <div className=\"col-sm-10\">\n                //     <span>Servizi aggiuntivi</span>\n                //     <table class=\"prices-table\">\n                //       <tbody>\n                //       {hotel.extraServices.map( (obj, index) => \n                //         <tr key={index}>\n                //           <td className=\"service-name\">\n                //             {obj.name}\n                //           </td>\n                //           <td className=\"service-price\">\n                //             <span className=\"no-smartphone\">{(obj.pivot.price_type == 'fixed') ? '€ ' : '+ '}</span>\n                //             {obj.pivot.price},-\n                //             {(obj.pivot.price_type == 'percent') ? ' %' : ''}\n                //           </td>\n                //         </tr>\n                //       )}\n                //       </tbody>\n                //     </table>\n                //   </div>\n                // </div>\n              }\n\n            </div>\n          </div>\n        </div>\n      </section>\n    </Layout>\n  );\n};\n\nHotelPage.getInitialProps = async params => {\n  let menu = null;\n  let locs = [];\n  let hotelCategories = [];\n  let page = null;\n  let periods = [];\n  try {\n    let baseService = new BaseService();\n    let init = await baseService.initApp();\n    locs = init.locs || [];\n    hotelCategories = init.hotelCategories || [];\n\n    let menuService = new MenuService();\n    menu = await menuService.get(1);\n\n    let hotelService = new HotelService();\n    page = await hotelService.getBySlug(params.query.accommodation);\n\n    if( page && page.id > 0 ){\n      let rateplanPeriodService = new RateplanPeriodService();\n      periods = await rateplanPeriodService.query({hotel_id: page.id});\n    }\n  } catch (e) {\n\n  }\n\n  return {\n    locs,\n    hotelCategories,\n    menu,\n    page,\n    periods\n  };\n};\n\nexport default HotelPage;\n"]},"metadata":{},"sourceType":"module"}