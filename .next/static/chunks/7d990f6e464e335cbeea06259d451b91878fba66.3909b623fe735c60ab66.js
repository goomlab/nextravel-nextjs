(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"8Otk":function(e,t,a){"use strict";var r=a("ODXe"),n=a("rePB"),c=a("q1tI"),i=a.n(c),o=a("/MKj"),s=a("wd/R"),l=a.n(s),u=a("UGp+"),m=a("KYPV"),f=a("1OyB"),d=a("Ji7U"),p=a("md7G"),v=a("foSv");a("vDqi");function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(v.a)(e);if(t){var n=Object(v.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(p.a)(this,a)}}var g=function(e){Object(d.a)(a,e);var t=h(a);function a(){return Object(f.a)(this,a),t.call(this,"/travelgo-one/services")}return a}(a("jC1T").a),b=a("p54a"),y=a("iDBw"),O=a.n(y),D=i.a.createElement;function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=function(e){var t=i.a.useState({startDate:e.startDate?l()(e.startDate,"YYYY-MM-DD"):l()(),endDate:e.endDate?l()(e.endDate,"YYYY-MM-DD"):l()().add("2 days")}),a=Object(r.a)(t,2),n=a[0],c=a[1];i.a.useEffect((function(){c(j(j({},n),{},{startDate:e.startDate?l()(e.startDate,"YYYY-MM-DD"):l()(),endDate:e.endDate?l()(e.endDate,"YYYY-MM-DD"):l()().add("2 days")}))}),[e]);return D(i.a.Fragment,null,D(O.a,{minDate:l()().format("YYYY-MM-DD"),startDate:n.startDate,endDate:n.endDate,autoApply:!0,onApply:function(t,a){return function(t,a){e.onChange(a.startDate,a.endDate),c({startDate:a.startDate,endDate:a.endDate})}(0,a)}},D("input",{type:"text",className:"form-control",id:"",name:"",placeholder:"Checkin",value:n.startDate.format("DD/MM/YYYY")+" - "+n.endDate.format("DD/MM/YYYY")||"",onChange:function(e){return function(e){console.log(e.target.value)}(e)}})))},C=i.a.createElement;function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=Object(o.b)((function(e){return{practice:e.practiceByGuest.item}}),(function(e){var t=new b.a;return{setPractice:function(a){e(t.setItem(a))},resetPractice:function(){e(t.resetItem())},createPractice:function(a){e(t.create(a))}}}))((function(e){i.a.useEffect((function(){var t=Object.assign({},e.practice);e.setPractice(Y(Y({},t),{},{hotel_id:e.hotel.id,rate_plan_id:e.rateplan.id,checkin:e.query.checkin||null,checkout:e.query.checkout||null,treatment:e.query.treatment||null}))}),[e.query]);var t=i.a.useState([]),a=Object(r.a)(t,2),n=a[0],c=a[1];i.a.useEffect((function(){(new g).all({type:{key:"type",compare:"=",value:"transfer"}}).then((function(e){c(e),console.log("transfers",e)}))}),[]);var o=function(t){t.persist();var a=Object.assign({},e.practice);switch(t.target.name){case"privacy":a[t.target.name]=t.target.checked?1:0;break;case"first_name":case"last_name":case"email":case"mobile":a.customer[t.target.name]=t.target.value;break;default:a[t.target.name]=t.target.value}e.setPractice(a)},s=function(t,a){t.persist();var r=Object.assign({},e.practice);switch(t.currentTarget.dataset.name){case"childrens":if(0==parseInt(t.currentTarget.value))r.rooms[a].childrenAges=[];else if(r.rooms[a].childrens>parseInt(t.currentTarget.value))r.rooms[a].childrenAges.splice(t.currentTarget.value);else for(var n=r.rooms[a].childrens;n<parseInt(t.currentTarget.value);n++)r.rooms[a].childrenAges.push(-1);r.rooms[a].childrens=t.currentTarget.value;break;case"ageChildrens":var c=t.currentTarget.dataset.index;r.rooms[a].childrenAges[c]=t.currentTarget.value,r.rooms[a].childrenAges.sort((function(e,t){return t-e}));break;default:r.rooms[a][t.currentTarget.dataset.name]=t.currentTarget.value}e.setPractice(r)},l=Object(m.a)({initialValues:{treatment:e.practice.treatment||"",first_name:e.practice.customer.first_name||"",last_name:e.practice.customer.last_name||"",email:e.practice.customer.email||"",mobile:e.practice.customer.mobile||"",privacy:e.practice.privacy||0},validationSchema:u.b().shape({treatment:u.c().required("Campo non valido"),first_name:u.c().required("Campo non valido"),last_name:u.c().required("Campo non valido"),email:u.c().required("Campo non valido"),mobile:u.c().required("Campo non valido"),privacy:u.a().min(1,"Campo non valido").max(1,"Campo non valido")}),enableReinitialize:!0,onSubmit:function(){e.createPractice(e.practice)}});return C(i.a.Fragment,null,C("form",{onSubmit:l.handleSubmit,className:"needs-validation"+(l.errors?"was-validated":""),noValidate:!0},C("div",{className:"box2 form-template-1"},C("div",{className:"row"},C("div",{className:"col-lg-3"},C("div",{className:"form-group"},C(_,{startDate:e.practice.checkin,endDate:e.practice.checkout,onChange:function(t,a){return function(t,a){var r=Object.assign({},e.practice);r.checkin=t.format("YYYY-MM-DD"),r.checkout=a.format("YYYY-MM-DD"),e.setPractice(r)}(t,a)}}))),C("div",{className:"col-lg-3"},C("div",{className:"form-group"},C("select",{className:"custom-select"+(l.errors.treatment?" is-invalid":""),name:"treatment",id:"treatment",value:l.values.treatment||"",onChange:function(e){o(e),l.handleChange(e)}},C("option",{value:""},"Trattamento"),e.priceList&&Object.entries(e.priceList).map((function(e,t){var a=Object(r.a)(e,2),n=a[0];a[1];return C("option",{key:t,value:n},n)}))),l.errors.treatment&&C("div",{className:"invalid-feedback"},l.errors.treatment))),C("div",{className:"col-lg-3"},C("div",{className:"form-group"},C("select",{className:"custom-select",name:"transfer_id",id:"tranfer_id",value:e.practice.transfer_id||"",onChange:function(e){return o(e)}},C("option",{value:""},"Transfer"),n.map((function(e,t){return C("option",{key:t,value:e.id},e.name)})))))),C("div",{className:"room-box",id:"roomBox"},function(){var t=[],a=function(a){for((n=[]).push(C("option",{key:0,value:"0"},"Adulti")),l=1;l<=4;l++)n.push(C("option",{key:l,value:l},l));for((c=[]).push(C("option",{key:0,value:"0"},"Bambini")),l=1;l<=4;l++)c.push(C("option",{key:l,value:l},l));for((o=[]).push(C("option",{key:-1,value:""},"Et\xe0")),l=0;l<=12;l++)o.push(C("option",{key:l,value:l},l));var r=[];for(var u in e.practice.rooms[a].childrenAges)r.push(C("div",{key:u,className:"col-lg-3"},C("div",{className:"form-group"},C("select",{className:"custom-select",name:"childrens_age[]","data-name":"ageChildrens","data-index":u,value:e.practice.rooms[a].childrenAges[u]||0,onChange:function(e){return s(e,a)}},o))));t.push(C("div",{key:a,className:"row"},C("div",{className:"col-lg-3"},C("div",{className:"form-group"},0==a&&C("button",{type:"button",className:"btn btn-green",onClick:function(){return function(){var t=Object.assign({},e.practice);t.rooms.push({adults:2,childrens:0,childrenAges:[]}),e.setPractice(t)}()}},"+ Camera"),a>0&&C(i.a.Fragment,null,C("label",null,"camera ",C("span",{className:"room-number"},parseInt(a)+1)),"\xa0\xa0",C("button",{type:"button",className:"btn btn-danger btn-sm roomBox_buttonDelete",onClick:function(){return function(t){var a=Object.assign({},e.practice);a.rooms.splice(t,1),e.setPractice(a)}(a)}},C("i",{className:"fas fa-times"}))))),C("div",{className:"col-lg-2"},C("div",{className:"form-group"},C("select",{className:"custom-select",id:"adults_".concat(a),name:"adults[]","data-name":"adults",value:e.practice.rooms[a].adults||0,onChange:function(e){return s(e,a)}},"$",n))),C("div",{className:"col-lg-2"},C("div",{className:"form-group"},C("select",{className:"custom-select",id:"childrens_".concat(a),name:"childrens[]","data-name":"childrens",value:e.practice.rooms[a].childrens||0,onChange:function(e){return s(e,a)}},"$",c))),C("div",{className:"col-lg-4"},C("div",{className:"row table_childrenAges"},r))))};for(var r in e.practice.rooms){var n,c,o,l;a(r)}return t}())),C("div",{className:"box3 form-template-2"},C("div",{className:"row"},C("div",{className:"col-lg-3"},C("div",{className:"form-group"},C("div",{className:"title"},"Richiedi il tuo preventivo gratuitamente"))),C("div",{className:"col-lg-4"},C("div",{className:"form-group"},C("input",{type:"text",className:"form-control"+(l.errors.first_name?" is-invalid":""),id:"first_name",name:"first_name",placeholder:"Nome",value:l.values.first_name||"",onChange:function(e){o(e),l.handleChange(e)}}),l.errors.first_name&&C("div",{className:"invalid-feedback"},l.errors.first_name)),C("div",{className:"form-group"},C("input",{type:"text",className:"form-control"+(l.errors.last_name?" is-invalid":""),id:"last_name",name:"last_name",placeholder:"Cognome",value:l.values.last_name||"",onChange:function(e){o(e),l.handleChange(e)}}),l.errors.last_name&&C("div",{className:"invalid-feedback"},l.errors.last_name)),C("div",{className:"form-group"},C("input",{type:"email",className:"form-control"+(l.errors.email?" is-invalid":""),id:"email",name:"email",placeholder:"Email",value:l.values.email||"",onChange:function(e){o(e),l.handleChange(e)}}),l.errors.email&&C("div",{className:"invalid-feedback"},l.errors.email)),C("div",{className:"form-group"},C("input",{type:"text",className:"form-control"+(l.errors.mobile?" is-invalid":""),id:"mobile",name:"mobile",placeholder:"Cellulare",value:l.values.mobile||"",onChange:function(e){o(e),l.handleChange(e)}}),l.errors.mobile&&C("div",{className:"invalid-feedback"},l.errors.mobile))),C("div",{className:"col-lg-5"},C("div",{className:"form-group"},C("textarea",{className:"form-control",id:"message",name:"message",placeholder:"Messaggio",value:e.practice.message||"",onChange:function(e){return o(e)}})),C("div",{className:"form-group"},C("div",{className:"custom-control custom-checkbox"},C("input",{type:"checkbox",className:"custom-control-input"+(l.errors.privacy?" is-invalid":""),name:"privacy",id:"privacy",value:"1",checked:1==l.values.privacy?1:0,onChange:function(e){o(e),l.handleChange(e)}}),C("label",{className:"custom-control-label",htmlFor:"privacy"},"Acconsento al trattamento dei miei dati ai sensi dell\u2019informativa sulla ",C("a",{href:"/privacy-policy",target:"_blank",rel:"nofollow"},"Privacy"),"."),l.errors.privacy&&C("div",{className:"invalid-feedback"},l.errors.privacy))),C("div",{className:"form-group text-right"},C("button",{type:"submit",className:"btn-submit"},"richiedi disponibilit\xe0")))))))}))},ZC9X:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a("1OyB"),n=a("vuIU"),c=a("Ji7U"),i=a("md7G"),o=a("foSv"),s=a("vDqi"),l=a.n(s);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var m=function(e){Object(c.a)(a,e);var t=u(a);function a(){return Object(r.a)(this,a),t.call(this,"/travelgo-one/practices")}return Object(n.a)(a,[{key:"createByGuest",value:function(e){return l.a.post(this.url+"/create-by-guest",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}}]),a}(a("jC1T").a)},p54a:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var r=a("1OyB"),n=a("vuIU"),c=a("Ji7U"),i=a("md7G"),o=a("foSv"),s=a("sYsk"),l=a("XvPD"),u=a("YRjj"),m=a("ZC9X");function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(o.a)(e);if(t){var n=Object(o.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(i.a)(this,a)}}var d={SET_ITEM:"PRACTICE_BY_GUEST_SET_ITEM",RESET_ITEM:"PRACTICE_BY_GUEST_RESET_ITEM",CREATE:"PRACTICE_BY_GUEST_CREATE"},p=function(e){Object(c.a)(a,e);var t=f(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).service=new m.a,e.consts=d,e}return Object(n.a)(a,[{key:"setItem",value:function(e){var t=this;return function(a){a({type:t.consts.SET_ITEM,item:e})}}},{key:"resetItem",value:function(){var e=this;return function(t){t({type:e.consts.RESET_ITEM})}}},{key:"create",value:function(e){var t=this;return function(a){a(l.a.show()),t.service.createByGuest(e).then((function(e){a(t.resetItem()),a(u.b.alertMessageSuccess("Richiesta inviata con successo!")),a(l.a.hide())})).catch((function(e){a(u.b.alertMessageError(e.response.data.meta.message)),a(l.a.hide())}))}}}]),a}(s.a)}}]);