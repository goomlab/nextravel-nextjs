_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{RNiq:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),i=a("HaE+"),c=a("q1tI"),s=a.n(c),o=a("YFqc"),l=a.n(o),u=a("jC1T"),m=a("57t+"),f=a("TvVg"),d=a("6Brv"),v=a("1OyB"),p=a("Ji7U"),h=a("md7G"),N=a("foSv");a("vDqi");function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(N.a)(e);if(t){var r=Object(N.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(h.a)(this,a)}}u.a;function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(N.a)(e);if(t){var r=Object(N.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(h.a)(this,a)}}u.a;var y=a("JHTH"),w=a("8Mm2"),E=a("FxrF"),T=s.a.createElement,_=function(){return T("section",{className:"section-main section-home-primopiano"},T("div",{className:"container"},T("div",{className:"box-home-primopiano"},T("div",{className:"row"},T("div",{className:"col-lg-4"},T("div",{className:"home-primopiano-item"},T("div",{className:"title"},"Transfer traghetto"),T("div",{className:"description"},"Prenota l\u2019Hotel con noi ed avrai il Traghetto per Ischia a soli \u20ac136 \u20ac70 A/R Auto+Conducente*"),T("div",{className:"note"},"*offerta non valida dal 26-Dic e dal 03-Gen"),T("div",{className:"row"},T("div",{className:"col-sm-6"},T("a",{href:"#",className:"btn btn-transparent"},"scopri")),T("div",{className:"col-sm-6"},T("i",{className:"ico ico-nave"}))))),T("div",{className:"col-lg-4"},T("div",{className:"home-primopiano-item"},T("div",{className:"title"},"Transfer traghetto"),T("div",{className:"description"},"Prenota l\u2019Hotel con noi ed avrai il Traghetto per Ischia a soli \u20ac136 \u20ac70 A/R Auto+Conducente*"),T("div",{className:"note"},"*offerta non valida dal 26-Dic e dal 03-Gen"),T("div",{className:"row"},T("div",{className:"col-sm-6"},T("a",{href:"#",className:"btn btn-transparent"},"scopri")),T("div",{className:"col-sm-6"},T("i",{className:"ico ico-orologio"}))))),T("div",{className:"col-lg-4"},T("div",{className:"home-primopiano-item"},T("div",{className:"title"},"Transfer traghetto"),T("div",{className:"description"},"Prenota l\u2019Hotel con noi ed avrai il Traghetto per Ischia a soli \u20ac136 \u20ac70 A/R Auto+Conducente*"),T("div",{className:"note"},"*offerta non valida dal 26-Dic e dal 03-Gen"),T("div",{className:"row"},T("div",{className:"col-sm-6"},T("a",{href:"#",className:"btn btn-transparent"},"scopri")),T("div",{className:"col-sm-6"},T("i",{className:"ico ico-cal"})))))))))},R=a("/MKj"),C=a("UGp+"),j=a("KYPV"),O=a("mI8k"),I=s.a.createElement,S=Object(R.b)((function(e){return{newsletter:e.newsletter}}),(function(e){var t=new O.a;return{setContact:function(a){e(t.setItem(a))},resetContact:function(){e(t.resetItem())},createContact:function(a){e(t.sendinblue_createContact(a))}}}))((function(e){var t=function(t){t.persist(),console.log("onChage",t);var a=Object.assign({},e.newsletter);switch(t.target.name){case"privacy":a[t.target.name]=t.target.checked?1:0;break;default:a[t.target.name]=t.target.value}e.setContact(a)},a=Object(j.a)({initialValues:{email:e.newsletter.email||"",privacy:e.newsletter.privacy||0},validationSchema:C.b().shape({email:C.c().required("Campo non valido"),privacy:C.a().min(1,"Campo non valido").max(1,"Campo non valido")}),enableReinitialize:!0,onSubmit:function(){e.createContact(e.newsletter)}});return I("section",{className:"section-main section-newsletter"},I("div",{className:"container"},I("div",{className:"row"},I("div",{className:"col-lg-5"},I("div",{className:"description"},I("strong",null,"Inserisci la tua email.",I("br",null),"Sarai aggiornato su tutte le offerte."),I("br",null),"Alcune sono riservate ai soli iscritti.",I("br",null),"Per una vacanza su misura contatta",I("br",null),"il nostro booking ","347 512 3030")),I("div",{className:"col-lg-6 offset-lg-1"},I("form",{onSubmit:a.handleSubmit,className:"needs-validation"+(a.errors?"was-validated":""),noValidate:!0},I("div",{className:"form-template-1"},I("div",{className:"row"},I("div",{className:"col-lg-9"},I("div",{className:"form-group"},I("input",{type:"email",className:"form-control"+(a.errors.email?" is-invalid":""),id:"newsletter_email",name:"email",placeholder:"Email",value:a.values.email||"",onChange:function(e){t(e),a.handleChange(e)}}),a.errors.email&&I("div",{className:"invalid-feedback"},a.errors.email)),I("div",{className:"form-group"},console.log("newslettrer",e.newsletter),I("div",{className:"custom-control custom-checkbox"},I("input",{type:"checkbox",className:"custom-control-input"+(a.errors.privacy?" is-invalid":""),name:"privacy",id:"newsletter_privacy",value:"1",checked:1==a.values.privacy?1:0,onChange:function(e){t(e),a.handleChange(e)}}),I("label",{className:"custom-control-label",htmlFor:"newsletter_privacy"},"Acconsento al trattamento dei miei dati ai sensi dell\u2019informativa sulla ",I("a",{href:"/privacy-policy",target:"_blank",rel:"nofollow"},"Privacy"),"."),a.errors.privacy&&I("div",{className:"invalid-feedback"},a.errors.privacy)))),I("div",{className:"col-lg-3"},I("div",{className:"form-group"},I("button",{type:"submit",className:"btn btn-green"},"iscriviti"))))))))))})),k=s.a.createElement,D=function(e){return!e.page||e.page.length<=0?k(y.a,{settings:{menu:e.menu}},k("div",null,"Data not found")):k(y.a,{settings:{template:"front-page",menu:e.menu},meta:{title:e.page.meta_title.it,description:e.page.meta_description.it,url:"".concat("https://www.nextravel.it"),image:e.page.media&&e.page.media.thumbnails&&e.page.media.thumbnails[0]?e.page.media.thumbnails[0].url:null}},k("section",{className:"section-main section-first home"},k("div",{className:"container"},k("div",{className:"row"},k("div",{className:"col-lg-7"},k("div",{className:"primary-title"},k("h1",null,e.page.subtitle.it),k("span",{style:{color:"#384044",textDecoration:"underline"}},"Chiama! ","347 512 3030"))),k("div",{className:"col-lg-4 col-offset-1"},k("div",{className:"primary-description"},k("div",{dangerouslySetInnerHTML:{__html:e.page.content.it}})))))),k(w.a,{query:e.query,full:!0}),k("section",{className:"section-main"},k("div",{className:"container"},k("div",{className:"primary-title text-center"},k("h2",null,"Prenota la tua vacanza tra una vasta scelta di Hotel selezionati.")),k("div",{className:"primary-description text-center"},"Per qualsiasi informazione non esitare a contattarci allo"," ",k("strong",null,"347 512 3030")))),console.log("Hotels",e.hotels),k(E.a,{hotels:e.hotels&&e.hotels.data?e.hotels.data:[]}),e.hotels&&e.hotels.meta&&parseInt(e.hotels.meta.to)<parseInt(e.hotels.meta.last_page)&&k("section",{className:"section-main"},k("div",{className:"container text-center"},k(l.a,{href:"/accomodations",as:"/accommodations?page=2"},k("a",{className:"btn btn-more"},"Carica le altre offerte")))),k(_,null),k(S,null))};D.getInitialProps=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i,c,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=null,i=[],e.prev=3,c=new m.a,e.next=7,c.get(1);case 7:return a=e.sent,s=new f.a,e.next=11,s.get(1);case 11:return n=e.sent,o=new d.a,e.next=15,o.query({hasEmptyPeriods:!0,orderBy:"order_seq",orderHow:"asc",paginate:20});case 15:i=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.log("error",e.t0);case 21:return e.abrupt("return",{params:t.params,query:t.query,menu:a,page:n,hotels:i});case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();t.default=D},mI8k:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return N}));var n=a("1OyB"),r=a("vuIU"),i=a("Ji7U"),c=a("md7G"),s=a("foSv"),o=a("sYsk"),l=a("XvPD"),u=a("YRjj"),m=a("vDqi"),f=a.n(m);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var v=function(e){Object(i.a)(a,e);var t=d(a);function a(){return Object(n.a)(this,a),t.call(this,"/newsletter")}return Object(r.a)(a,[{key:"sendinblue_createContact",value:function(e){return f.a.post("".concat(this.url,"/sendinblue/contacts"),e,this.config).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}}]),a}(a("jC1T").a);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var h={SET_ITEM:"NEWSLETTER_SET_ITEM",RESET_ITEM:"NEWSLETTER_RESET_ITEM",SENDINBLUE_CREATE_CONTACT:"NEWSLETTER_SENDINBLUE_CREATE_CONTACT"},N=function(e){Object(i.a)(a,e);var t=p(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).service=new v,e.consts=h,e}return Object(r.a)(a,[{key:"setItem",value:function(e){var t=this;return function(a){a({type:t.consts.SET_ITEM,item:e})}}},{key:"resetItem",value:function(){var e=this;return function(t){t({type:e.consts.RESET_ITEM})}}},{key:"sendinblue_createContact",value:function(e){var t=this;return function(a){a(l.a.show()),t.service.sendinblue_createContact(e).then((function(e){a(t.resetItem()),a(u.b.alertMessageSuccess("Ti ringraziamo per esserti registrato alla newsletter. Ti terremo aggiornati sulle nostre offerte.")),a(l.a.hide())})).catch((function(e){a(u.b.alertMessageError(e.response.data.meta.message)),a(l.a.hide())}))}}}]),a}(o.a)},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",0,2,5,7,1,3,4,6,8,9,10,11]]]);